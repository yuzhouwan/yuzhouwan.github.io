<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/yuzhouwan_logo_with_copyright.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/yuzhouwan_logo_32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/yuzhouwan_logo_16x16.ico">
  <link rel="mask-icon" href="/yuzhouwan_logo_with_copyright.jpg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yuzhouwan.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":5,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":{"valine":{"text":"Valine：匿名","order":-1},"disqus":{"text":"Disqus：海外","order":-2},"gitalk":{"text":"Gitalk：可用 Github 账号登录","order":-3}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="本文主要介绍 Python 的概念与特性、环境部署、基本语法、标准库、第三方库、科学分析工具、Python 工程工具、实战技巧和踩过的一些坑。">
<meta property="og:type" content="article">
<meta property="og:title" content="Python：从入门到实践">
<meta property="og:url" content="https://yuzhouwan.com/posts/43687/">
<meta property="og:site_name" content="宇宙湾">
<meta property="og:description" content="本文主要介绍 Python 的概念与特性、环境部署、基本语法、标准库、第三方库、科学分析工具、Python 工程工具、实战技巧和踩过的一些坑。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_and_mouse.jpg">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_matplotlib_example.png">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_matplotlib_sin.png">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_matplotlib_cos.png">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_matplotlib_tan.png">
<meta property="og:image" content="https://yuzhouwan.com/picture/python/python_matplotlib_cost.png">
<meta property="og:image" content="https://yuzhouwan.com/picture/language/pypl_popularity_of_programming_language.png">
<meta property="og:image" content="https://img.shields.io/badge/QQ%E7%BE%A4-1020982-blue.svg">
<meta property="og:image" content="https://img.shields.io/badge/QQ%E7%BE%A4-1217710-blue.svg">
<meta property="og:image" content="https://img.shields.io/badge/QQ%E7%BE%A4-1670647-blue.svg">
<meta property="og:image" content="https://img.shields.io/badge/QQ%E7%BE%A4-5366753-blue.svg">
<meta property="article:published_time" content="2015-02-05T16:08:40.000Z">
<meta property="article:modified_time" content="2021-07-18T05:44:13.791Z">
<meta property="article:author" content="Benedict Jin">
<meta property="article:tag" content="Apache Superset">
<meta property="article:tag" content="TensorFlow">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="iPython">
<meta property="article:tag" content="人工智能">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yuzhouwan.com/picture/python/python_and_mouse.jpg">

<link rel="canonical" href="https://yuzhouwan.com/posts/43687/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Python：从入门到实践 | 宇宙湾</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97020848-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-97020848-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.null { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .null > span { position: relative; z-index: 10; }  .null img, .null .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .null img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .null-fallback { color: inherit; } .null-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="宇宙湾" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">宇宙湾</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">厚积薄发</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">163</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">16</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">55</span></a>

  </li>
        <li class="menu-item menu-item-书单">

    <a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i>书单</a>

  </li>
        <li class="menu-item menu-item-影视">

    <a href="/movies/" rel="section"><i class="fa fa-film fa-fw"></i>影视</a>

  </li>
        <li class="menu-item menu-item-友链">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/43687/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇宙湾">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python：从入门到实践
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2015-02-06 00:08:40" itemprop="dateCreated datePublished" datetime="2015-02-06T00:08:40+08:00">2015-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-18 13:44:13" itemprop="dateModified" datetime="2021-07-18T13:44:13+08:00">2021-07-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">语言</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>34k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>30 分钟</span>
            </span>
            <div class="post-description">本文主要介绍 Python 的概念与特性、环境部署、基本语法、标准库、第三方库、科学分析工具、Python 工程工具、实战技巧和踩过的一些坑。</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="什么是-Python"><a href="#什么是-Python" class="headerlink" title="什么是 Python?"></a>什么是 Python?</h2><p>　<strong>Python</strong> is a programming language that lets you work <strong>quickly</strong> and integrate systems more <strong>effectively</strong>.</p>
<p><img data-src="/picture/python/python_and_mouse.jpg" alt="Python and Mouse"></p>
<center>（图片来源：<a href="http://www.mac-smith.com/" target="_blank" rel="external nofollow noopener noreferrer">Mac Smith</a> 的个人作品，已获得授权）</center>



<h2 id="为什么要有-Python"><a href="#为什么要有-Python" class="headerlink" title="为什么要有 Python?"></a>为什么要有 Python?</h2><h3 id="胶水语言"><a href="#胶水语言" class="headerlink" title="胶水语言"></a>胶水语言</h3><p>　胶水语言，能够把用其他语言制作的各种模块（尤其是 <code>C</code>/<code>C++</code>）很轻松地联结在一起</p>
<h3 id="脚本语言"><a href="#脚本语言" class="headerlink" title="脚本语言"></a>脚本语言</h3><p>　ABC 语言的一种继承</p>
<p>　缩短传统的 <code>编写</code> - <code>编译</code> - <code>链接</code> - <code>运行</code>（<code>edit</code>-<code>compile</code>-<code>link</code>-<code>run</code>）过程</p>
<span id="more"></span>
<h2 id="环境部署"><a href="#环境部署" class="headerlink" title="环境部署"></a>环境部署</h2><h3 id="Python-安装"><a href="#Python-安装" class="headerlink" title="Python 安装"></a>Python 安装</h3><h4 id="Linux-基础环境"><a href="#Linux-基础环境" class="headerlink" title="Linux 基础环境"></a>Linux 基础环境</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install gcc libffi-devel python-devel python-pip python-wheel openssl-devel libsasl2-devel openldap-devel -y</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Python-编译安装"><a href="#Python-编译安装" class="headerlink" title="Python 编译安装"></a>Python 编译安装</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 python ftp 服务器中下载到 对应版本的 python</span></span><br><span class="line">$ wget https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tgz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译</span></span><br><span class="line">$ tar -zxvf Python-3.6.8.tgz</span><br><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/Python-3.6.8</span><br><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/python36</span><br><span class="line">$ make</span><br><span class="line">$ make install</span><br><span class="line"></span><br><span class="line">$ ls /usr/<span class="built_in">local</span>/python36/ -al</span><br><span class="line">  total 24</span><br><span class="line">  drwxr-xr-x 6 root root 4096 Jan 30 11:10 .</span><br><span class="line">  drwxr-xr-x 1 root root 4096 Jan 30 11:09 ..</span><br><span class="line">  drwxr-xr-x 2 root root 4096 Jan 30 11:10 bin</span><br><span class="line">  drwxr-xr-x 3 root root 4096 Jan 30 11:10 include</span><br><span class="line">  drwxr-xr-x 4 root root 4096 Jan 30 11:10 lib</span><br><span class="line">  drwxr-xr-x 3 root root 4096 Jan 30 11:10 share</span><br></pre></td></tr></tbody></table></figure>
<h4 id="覆盖旧版-Python"><a href="#覆盖旧版-Python" class="headerlink" title="覆盖旧版 Python"></a>覆盖旧版 Python</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 覆盖原来的 python6</span></span><br><span class="line">$ <span class="built_in">which</span> python</span><br><span class="line">  /usr/bin/python</span><br><span class="line">$ /usr/<span class="built_in">local</span>/python36/bin/python3.6 -V</span><br><span class="line">  Python 3.6.8</span><br><span class="line">$ mv /usr/bin/python /usr/bin/python_old</span><br><span class="line">$ ln -s /usr/<span class="built_in">local</span>/python36/bin/python3.6 /usr/bin/python</span><br><span class="line">$ python -V</span><br><span class="line">  Python 3.6.8</span><br></pre></td></tr></tbody></table></figure>
<h4 id="恢复-yum-中旧版-Python-的引用"><a href="#恢复-yum-中旧版-Python-的引用" class="headerlink" title="恢复 yum 中旧版 Python 的引用"></a>恢复 yum 中旧版 Python 的引用</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改 yum 引用的 python 版本为旧版 2.6 的 python</span></span><br><span class="line">$ vim /usr/bin/yum</span><br><span class="line">  <span class="comment"># 第一行修改为 python2.6</span></span><br><span class="line">  <span class="comment">#!/usr/bin/python2.6</span></span><br><span class="line"></span><br><span class="line">$ yum --version | sed <span class="string">'2,$d'</span></span><br><span class="line">  3.2.29</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Pip"><a href="#Pip" class="headerlink" title="Pip"></a>Pip</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><h5 id="在线"><a href="#在线" class="headerlink" title="在线"></a>在线</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ pip --version</span><br><span class="line">  pip 9.0.1 from /usr/<span class="built_in">local</span>/lib/python2.7/site-packages (python 2.7)</span><br><span class="line"></span><br><span class="line"><span class="comment"># upgrade setup tools and pip</span></span><br><span class="line">$ pip install --upgrade setuptools pip</span><br></pre></td></tr></tbody></table></figure>
<h5 id="离线"><a href="#离线" class="headerlink" title="离线"></a>离线</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://pypi.org/project/setuptools/#files 下载 setuptools-40.7.1.zip</span></span><br><span class="line">$ unzip setuptools-40.7.1.zip</span><br><span class="line">$ <span class="built_in">cd</span> setuptools-40.7.1</span><br><span class="line">$ python setup.py install</span><br><span class="line"></span><br><span class="line"><span class="comment"># https://pypi.org/project/pip/#files 下载 pip-19.0.1.tar.gz</span></span><br><span class="line">$ tar zxvf pip-19.0.1.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> pip-19.0.1</span><br><span class="line">$ python setup.py install</span><br><span class="line"></span><br><span class="line">$ python -m pip -V</span><br><span class="line">  pip 18.1 from /usr/<span class="built_in">local</span>/python36/lib/python3.6/site-packages/pip (python 3.6)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 环境变量</span></span><br><span class="line">$ vim ~/.bashrc</span><br><span class="line">  <span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/python36/bin</span><br><span class="line">$ <span class="built_in">source</span> ~/.bashrc</span><br><span class="line">$ pip -V</span><br><span class="line">  pip 19.0.1 from /usr/<span class="built_in">local</span>/python36/lib/python3.6/site-packages/pip-19.0.1-py3.6.egg/pip (python 3.6)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="VirtualEnv"><a href="#VirtualEnv" class="headerlink" title="VirtualEnv"></a>VirtualEnv</h3><p>　这里我们以 Apache Superset 为例，更多相关内容，详见我的另一篇博客《<a href="https://yuzhouwan.com/posts/743/">Apache Superset 二次开发</a>》</p>
<h4 id="解压安装"><a href="#解压安装" class="headerlink" title="解压安装"></a>解压安装</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ pip install virtualenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># virtualenv is shipped in Python 3 as pyvenv</span></span><br><span class="line">$ virtualenv venv</span><br><span class="line">$ <span class="built_in">source</span> venv/bin/activate</span><br><span class="line"><span class="comment"># 如果希望 virtualEnv 的隔离环境，能够访问系统全局的 site-packages 目录，可以增加 `--system-site-packages` 参数</span></span><br><span class="line"><span class="comment"># virtualenv -p /usr/local/bin/python --system-site-packages venv</span></span><br><span class="line"><span class="comment"># 另外，如果考虑到便于拷贝，使得 virtualEnv 中依赖的文件，都是复制进来的，而非软链接，则增加 `--always-copy` 参数</span></span><br><span class="line"><span class="comment"># virtualenv -p /usr/local/bin/python --always-copy venv</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 【Offline环境】安装 virtualenv</span></span><br><span class="line"><span class="comment"># 在 https://pypi.python.org/pypi/virtualenv#downloads 页面，下载 virtualenv-15.1.0.tar.gz</span></span><br><span class="line">$ tar zxvf virtualenv-15.1.0.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> virtualenv-15.1.0</span><br><span class="line">$ python setup.py install</span><br><span class="line"></span><br><span class="line">$ virtualenv --version</span><br><span class="line">  15.1.0</span><br></pre></td></tr></tbody></table></figure>
<h4 id="部署上线"><a href="#部署上线" class="headerlink" title="部署上线"></a>部署上线</h4><h5 id="拷贝"><a href="#拷贝" class="headerlink" title="拷贝"></a>拷贝</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rsync 替换 scp 可以确保软链接 也能被 cp</span></span><br><span class="line">$ rsync -avuz -e ssh /home/superset/superset-0.15.4/ yuzhouwan@middle:/home/yuzhouwan/superset-0.15.4</span><br><span class="line"></span><br><span class="line">  //...</span><br><span class="line">  sent 142935894 bytes  received 180102 bytes  3920986.19 bytes/sec</span><br><span class="line">  total size is 359739823  speedup is 2.51</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 本机 和 目标机器 的 Superset 目录下，校验文件数量</span></span><br><span class="line">$ find | wc -l</span><br><span class="line">  10113</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重复以上步骤，从跳板机 rsync 到线上机器</span></span><br><span class="line">$ rsync -avuz -e ssh /home/yuzhouwan/superset-0.15.4/ root@192.168.2.10:/home/superset/superset-0.15.4</span><br><span class="line"></span><br><span class="line"><span class="comment"># virtualenv 创建依赖的 python</span></span><br><span class="line">$ rsync -avuz -e ssh /root/software yuzhouwan@middle:/home/yuzhouwan</span><br><span class="line">$ rsync -avuz -e ssh /home/yuzhouwan/software root@druid-prd01:/root</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> /root/software</span><br><span class="line">$ tar zxvf Python-2.7.12.tgz</span><br><span class="line">$ <span class="built_in">cd</span> Python-2.7.12</span><br><span class="line"></span><br><span class="line">$ ./configure --prefix=/usr --enable-shared CFLAGS=-fPIC</span><br><span class="line">$ make &amp;&amp; make install</span><br><span class="line">$ /sbin/ldconfig -v | grep /      <span class="comment"># nessnary!!</span></span><br><span class="line">$ python -V</span><br><span class="line">  Python 2.7.12</span><br></pre></td></tr></tbody></table></figure>
<h5 id="动态链接库"><a href="#动态链接库" class="headerlink" title="动态链接库"></a>动态链接库</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 虽然软链接已经 rsync 过来了，但是 目标机器相关目录下，没有对应的 python 的动态链接库</span></span><br><span class="line">$ file /root/superset/lib/python2.7/lib-dynload</span><br><span class="line"></span><br><span class="line">  /root/superset/lib/python2.7/lib-dynload: broken symbolic link to `/usr/<span class="built_in">local</span>/python27/lib/python2.7/lib-dynload`</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要和联网环境中，创建 virtualenv 时的 python 全局环境一致</span></span><br><span class="line">$ ./configure --prefix=/usr/<span class="built_in">local</span>/python27 --enable-shared CFLAGS=-fPIC</span><br><span class="line">$ make &amp;&amp; make install</span><br><span class="line">$ /sbin/ldconfig -v | grep /</span><br><span class="line"></span><br><span class="line">$ ls /usr/<span class="built_in">local</span>/python27/lib/python2.7/lib-dynload -sail</span><br></pre></td></tr></tbody></table></figure>
<h4 id="VirtualEnvWrapper"><a href="#VirtualEnvWrapper" class="headerlink" title="VirtualEnvWrapper"></a>VirtualEnvWrapper</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># VirtualEnv Wrapper 是 virtualenv 的扩展工具，可以方便的创建、删除、复制、切换不同的虚拟环境</span></span><br><span class="line">$ pip install virtualenvwrapper</span><br><span class="line">$ mkdir ~/workspaces</span><br><span class="line">$ vim ~/.bashrc</span><br><span class="line">  <span class="comment"># 增加</span></span><br><span class="line">  <span class="built_in">export</span> WORKON_HOME=~/virtualenv</span><br><span class="line">  <span class="built_in">source</span> /usr/<span class="built_in">local</span>/bin/virtualenvwrapper.sh</span><br><span class="line"></span><br><span class="line">$ mkvirtualenv --python=/usr/bin/python superset</span><br><span class="line">  Running virtualenv with interpreter /usr/bin/python</span><br><span class="line">  New python executable <span class="keyword">in</span> /root/virtualenv/superset/bin/python</span><br><span class="line">  Installing setuptools, pip, wheel...done.</span><br><span class="line">  virtualenvwrapper.user_scripts creating /root/virtualenv/superset/bin/predeactivate</span><br><span class="line">  virtualenvwrapper.user_scripts creating /root/virtualenv/superset/bin/postdeactivate</span><br><span class="line">  virtualenvwrapper.user_scripts creating /root/virtualenv/superset/bin/preactivate</span><br><span class="line">  virtualenvwrapper.user_scripts creating /root/virtualenv/superset/bin/postactivate</span><br><span class="line">  virtualenvwrapper.user_scripts creating /root/virtualenv/superset/bin/get_env_details</span><br><span class="line">(superset) [root@superset01 virtualenv]<span class="comment"># deactivate</span></span><br><span class="line"></span><br><span class="line">$ workon superset</span><br><span class="line">(superset) [root@superset01 virtualenv]<span class="comment"># lsvirtualenv -b</span></span><br><span class="line">  superset</span><br></pre></td></tr></tbody></table></figure>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><h4 id="int"><a href="#int" class="headerlink" title="int"></a>int</h4><h5 id="int-类型的最大值"><a href="#int-类型的最大值" class="headerlink" title="int 类型的最大值"></a>int 类型的最大值</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.maxsize</span><br><span class="line">  <span class="number">9223372036854775807</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 该值取决于你的操作系统位数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">63</span>) - <span class="number">1</span></span><br><span class="line">  <span class="number">9223372036854775807</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> &lt;&lt; <span class="number">64</span> - <span class="number">1</span></span><br><span class="line">  <span class="number">9223372036854775808</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="float"><a href="#float" class="headerlink" title="float"></a>float</h4><h5 id="inf-无穷大"><a href="#inf-无穷大" class="headerlink" title="inf 无穷大"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/c03/p07_infinity_and_nan.html">inf</a> 无穷大</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'inf'</span>)</span><br><span class="line">  inf</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'Inf'</span>)</span><br><span class="line">  inf</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'inf'</span>) &gt; <span class="number">0</span></span><br><span class="line">  <span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'inf'</span>) &lt; <span class="number">0</span></span><br><span class="line">  <span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'inf'</span>) &gt; <span class="number">9999999999</span></span><br><span class="line">  <span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'inf'</span>) &gt; <span class="number">9999999999999999999999</span></span><br><span class="line">  <span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'-inf'</span>) &lt; -<span class="number">9999999999999999999999</span></span><br><span class="line">  <span class="literal">True</span></span><br><span class="line"><span class="comment"># inf、Inf、INF 都是可以表示无穷大的（infinity），这里没有大小写的规定</span></span><br><span class="line"><span class="comment"># inf 表示正无穷，而 -inf 表示为负无穷</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">'Inf'</span>) == <span class="built_in">float</span>(<span class="string">'inf'</span>) == -<span class="built_in">float</span>(<span class="string">'-inf'</span>) == -<span class="built_in">float</span>(<span class="string">'-Inf'</span>)</span><br><span class="line">  <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="string"><a href="#string" class="headerlink" title="string"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/string.html">string</a></h4><h5 id="split"><a href="#split" class="headerlink" title="split"></a>split</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a b c'</span>.split(<span class="string">' '</span>)</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a b c'</span>.split(<span class="string">' '</span>, <span class="number">1</span>)</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'a b c'</span>.split(<span class="string">' '</span>, <span class="number">2</span>)</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br></pre></td></tr></tbody></table></figure>
<h5 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="number">1.0</span>)</span><br><span class="line">  <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">b"yuzhouwan.com"</span>.decode(<span class="string">"utf-8"</span>)</span><br><span class="line">  <span class="string">u'yuzhouwan.com'</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="占位符"><a href="#占位符" class="headerlink" title="占位符"></a>占位符</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"speed: %skm/h"</span> % <span class="number">16.8</span></span><br><span class="line">  <span class="string">'speed: 16.8km/h'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"(%s, %s)"</span> % (<span class="string">"percent"</span>, <span class="number">99.97</span>)</span><br><span class="line">  <span class="string">'(percent, 99.97)'</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="遍历字符"><a href="#遍历字符" class="headerlink" title="遍历字符"></a>遍历字符</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="string">'yuzhouwan.com'</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span> i, c</span><br><span class="line">...</span><br><span class="line">  <span class="number">0</span> y</span><br><span class="line">  <span class="number">1</span> u</span><br><span class="line">  <span class="number">2</span> z</span><br><span class="line">  <span class="number">3</span> h</span><br><span class="line">  <span class="number">4</span> o</span><br><span class="line">  <span class="number">5</span> u</span><br><span class="line">  <span class="number">6</span> w</span><br><span class="line">  <span class="number">7</span> a</span><br><span class="line">  <span class="number">8</span> n</span><br><span class="line">  <span class="number">9</span> .</span><br><span class="line">  <span class="number">10</span> c</span><br><span class="line">  <span class="number">11</span> o</span><br><span class="line">  <span class="number">12</span> m</span><br></pre></td></tr></tbody></table></figure>
<h3 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h3><h4 id="不换行"><a href="#不换行" class="headerlink" title="不换行"></a>不换行</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">"[]"</span>, end=<span class="string">""</span>)</span><br><span class="line">[]&gt;&gt;&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="OS"><a href="#OS" class="headerlink" title="OS"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/os.html">OS</a></h3><h4 id="操作系统相关"><a href="#操作系统相关" class="headerlink" title="操作系统相关"></a>操作系统相关</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取操作系统特定的路径分割符（Windows: '\\'；Linux/Unix: '/'）</span></span><br><span class="line">os.sep</span><br><span class="line"><span class="comment"># 字符串表示正在使用的平台（Windows: 'nt'；Linux/Unix: 'posix'）</span></span><br><span class="line">os.name</span><br><span class="line"><span class="comment"># 字符串给出当前平台使用的行终止符（Windows: '\r\n'；Linux: '\n'；Mac: '\r'）</span></span><br><span class="line">os.linesep</span><br><span class="line"><span class="comment"># 函数用来运行 shell 命令</span></span><br><span class="line">os.system(shell)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得当前工作目录</span></span><br><span class="line">os.getcwd()</span><br><span class="line"><span class="comment"># 获取 / 设置 环境变量</span></span><br><span class="line">os.getenv(key) / os.putenv(key, value)</span><br><span class="line"><span class="comment"># 获得当前进程的 PID</span></span><br><span class="line">os.getpid()</span><br></pre></td></tr></tbody></table></figure>
<h4 id="获取文件-路径信息"><a href="#获取文件-路径信息" class="headerlink" title="获取文件/路径信息"></a>获取文件/路径信息</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回指定目录下的所有文件和目录名，v3.5 之后被替换为 scandir</span></span><br><span class="line">os.listdir(path)</span><br><span class="line"><span class="comment"># 函数返回路径 path 的目录名和文件名</span></span><br><span class="line">os.path.split(path)</span><br><span class="line"><span class="comment"># 判断路径是一个文件还是目录</span></span><br><span class="line">os.path.isfile(path) / os.path.isdir(path)</span><br><span class="line"><span class="comment"># 判断路径是否是软链接</span></span><br><span class="line">os.path.islink(path)</span><br><span class="line"><span class="comment"># 判断是否存在文件或目录</span></span><br><span class="line">os.path.exists(path)</span><br><span class="line"><span class="comment"># 获得文件大小，如果 path 是目录返回 0L</span></span><br><span class="line">os.path.getsize(path)</span><br><span class="line"><span class="comment"># 获得绝对路径</span></span><br><span class="line">os.path.abspath(path)</span><br><span class="line"><span class="comment"># 规范 path 字符串形式</span></span><br><span class="line">os.path.normpath(path)</span><br><span class="line"><span class="comment"># 分割文件名与目录</span></span><br><span class="line">os.path.split(path)</span><br><span class="line"><span class="comment"># 分离文件名与扩展名</span></span><br><span class="line">os.path.splitext(path)</span><br><span class="line"><span class="comment"># 连接目录与文件名或目录</span></span><br><span class="line">os.path.join(path, file)</span><br><span class="line"><span class="comment"># 返回文件名</span></span><br><span class="line">os.path.basename(path)</span><br><span class="line"><span class="comment"># 返回文件路径</span></span><br><span class="line">os.path.dirname(path)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="实际操作文件-路径"><a href="#实际操作文件-路径" class="headerlink" title="实际操作文件 / 路径"></a>实际操作文件 / 路径</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回但前目录</span></span><br><span class="line">os.curdir</span><br><span class="line"><span class="comment"># 改变工作目录到 path</span></span><br><span class="line">os.chdir(path)</span><br><span class="line"><span class="comment"># 删除文件</span></span><br><span class="line">os.remove(path)</span><br><span class="line"><span class="comment"># 删除目录</span></span><br><span class="line">os.rmdir(path)</span><br><span class="line"><span class="comment"># 递归删除目录，删除 'foo/bar/baz'，意味着依次删除 'foo/bar/baz' - 'foo/bar' - 'foo'</span></span><br><span class="line">os.removedirs(path)</span><br></pre></td></tr></tbody></table></figure>
<h4 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">open_file</span>(<span class="params">f = <span class="string">""</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(f):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"File not exists, path is %s!"</span> % f)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(f, <span class="string">"r+"</span>, encoding = <span class="string">"utf8"</span>) <span class="keyword">as</span> of:</span><br><span class="line">        <span class="keyword">return</span> of.readlines()</span><br></pre></td></tr></tbody></table></figure>
<h4 id="执行-shell-命令"><a href="#执行-shell-命令" class="headerlink" title="执行 shell 命令"></a>执行 shell 命令</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import os</span><br><span class="line">&gt;&gt;&gt; exit_code = os.system(<span class="string">"source ~/.bashrc"</span>)</span><br><span class="line">&gt;&gt;&gt; exit_code</span><br><span class="line">  0</span><br></pre></td></tr></tbody></table></figure>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/json.html">JSON</a></h3><h4 id="加载与提取"><a href="#加载与提取" class="headerlink" title="加载与提取"></a>加载与提取</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>user = json.loads(<span class="string">'{"name":"benedict","infos":{"age":0,"blog":"yuzhouwan.com"}}'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user[<span class="string">'name'</span>]</span><br><span class="line">  <span class="string">'benedict'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user[<span class="string">'infos'</span>][<span class="string">'blog'</span>]</span><br><span class="line">  <span class="string">'yuzhouwan.com'</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="与-YAML-格式互换"><a href="#与-YAML-格式互换" class="headerlink" title="与 YAML 格式互换"></a>与 YAML 格式互换</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># json2yaml</span></span><br><span class="line">sys.stdout.write(yaml.dump(json.load(sys.stdin)))</span><br><span class="line"><span class="comment"># yaml2json</span></span><br><span class="line">sys.stdout.write(json.dumps(yaml.load(sys.stdin)))</span><br></pre></td></tr></tbody></table></figure>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><h5 id="赋值-取值"><a href="#赋值-取值" class="headerlink" title="赋值 / 取值"></a>赋值 / 取值</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>kv_map = {}</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kv_map[<span class="string">"k"</span>] = <span class="string">"v"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kv_map</span><br><span class="line">  {<span class="string">'k'</span>: <span class="string">'v'</span>}</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kv_map[<span class="string">"k"</span>]</span><br><span class="line">  <span class="string">'v'</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>costs = {<span class="string">"b"</span>: <span class="number">2</span>, <span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"c"</span>: <span class="number">3</span>}</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>costs</span><br><span class="line">  {<span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'a'</span>: <span class="number">1</span>}</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照 Key 排序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>(costs)</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>(costs.keys())</span><br><span class="line">  [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照 Value 排序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>(costs.values())</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[ (k, costs[k]) <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">sorted</span>(costs, key=costs.get, reverse=<span class="literal">False</span>) ]</span><br><span class="line">  [(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sorted</span>(costs.items(), key=<span class="keyword">lambda</span> item: item[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line">  [(<span class="string">'c'</span>, <span class="number">3</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'a'</span>, <span class="number">1</span>)]</span><br></pre></td></tr></tbody></table></figure>
<h5 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> costs_sorted:</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(k, v)</span><br><span class="line">...</span><br><span class="line">  a <span class="number">1</span></span><br><span class="line">  b <span class="number">2</span></span><br><span class="line">  c <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="求和"><a href="#求和" class="headerlink" title="求和"></a>求和</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">sum</span>({<span class="string">"b"</span>: <span class="number">2</span>, <span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"c"</span>: <span class="number">3</span>}.values())</span><br><span class="line">  <span class="number">6</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><h5 id="单层-list"><a href="#单层-list" class="headerlink" title="单层 list"></a>单层 list</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range(start, stop, step)</span></span><br><span class="line"><span class="comment"># 参数三 如果是负数，则是倒序遍历</span></span><br><span class="line"><span class="comment"># 注意 [start, stop) 是前闭后开的</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[ _ <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>, <span class="number">0</span>, -<span class="number">1</span>)]</span><br><span class="line">  [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></tbody></table></figure>
<h5 id="双层-list"><a href="#双层-list" class="headerlink" title="双层 list"></a>双层 list</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[[<span class="string">''</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">  [[<span class="string">''</span>, <span class="string">''</span>], [<span class="string">''</span>, <span class="string">''</span>]]</span><br></pre></td></tr></tbody></table></figure>
<h5 id="Join-双层-list"><a href="#Join-双层-list" class="headerlink" title="Join 双层 list"></a>Join 双层 list</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'.'</span>.join(<span class="built_in">str</span>(x) <span class="keyword">for</span> inner_arr <span class="keyword">in</span> [<span class="string">'yuzhouwan'</span>, <span class="string">'com'</span>] <span class="keyword">for</span> x <span class="keyword">in</span> inner_arr)</span><br><span class="line">  <span class="string">'y.u.z.h.o.u.w.a.n.c.o.m'</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="built_in">set</span>()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(s)</span><br><span class="line">  <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></tbody></table></figure>
<h4 id="iter"><a href="#iter" class="headerlink" title="iter"></a>iter</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>blog = <span class="string">"yuzhouwan"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iter_blog = <span class="built_in">iter</span>(blog)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  y</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  u</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  z</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  h</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  o</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  u</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  w</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  n</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog))</span><br><span class="line">  Traceback (most recent call last):</span><br><span class="line">    File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  StopIteration</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="built_in">next</span>(iter_blog, <span class="literal">None</span>))</span><br><span class="line">  <span class="literal">None</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h3><h4 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>-<span class="number">1</span> <span class="keyword">if</span> <span class="literal">True</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">  -<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>-<span class="number">1</span> <span class="keyword">if</span> <span class="literal">False</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">  <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="try-except"><a href="#try-except" class="headerlink" title="try-except"></a>try-except</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    resp = urllib2.urlopen(<span class="string">"https://yuzhouwan.com/"</span>)</span><br><span class="line">    <span class="built_in">print</span> resp.read()</span><br><span class="line"><span class="keyword">except</span> urllib2.HTTPError, error:</span><br><span class="line">    <span class="built_in">print</span> <span class="string">"Cannot visit this url!"</span>, error</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h3><h4 id="除以并返回商的整数值"><a href="#除以并返回商的整数值" class="headerlink" title="除以并返回商的整数值"></a>除以并返回商的整数值</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> // <span class="number">1</span></span><br><span class="line">  <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> // <span class="number">1</span></span><br><span class="line">  <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> // <span class="number">1</span></span><br><span class="line">  <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">6</span> // <span class="number">2</span></span><br><span class="line">  <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><h4 id="amp-vs-and"><a href="#amp-vs-and" class="headerlink" title="&amp; vs and"></a>&amp; vs and</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span> &amp; <span class="literal">False</span></span><br><span class="line">  <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">True</span> <span class="keyword">and</span> <span class="literal">False</span></span><br><span class="line">  <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &gt; <span class="number">1</span> &amp; <span class="number">10</span> &lt; <span class="number">1</span></span><br><span class="line">  <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> &gt; <span class="number">1</span> <span class="keyword">and</span> <span class="number">10</span> &lt; <span class="number">1</span></span><br><span class="line">  <span class="literal">False</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><div class="table-container">
<table>
<thead>
<tr>
<th>位运算</th>
<th>运算符</th>
<th>运算规则</th>
</tr>
</thead>
<tbody>
<tr>
<td>与运算</td>
<td><code>&amp;</code></td>
<td>A 与 B 值均为 1 时，结果才为 1，否则为 0</td>
</tr>
<tr>
<td>或运算</td>
<td><code>|</code></td>
<td>A 或 B 值为 1 时，结果才为 1，否则为 0</td>
</tr>
<tr>
<td>异或运算</td>
<td><code>^</code></td>
<td>A 与 B 不同为 0 或 1 时，结果才为 1，否则为 0</td>
</tr>
<tr>
<td>按位取反</td>
<td><code>~</code></td>
<td>取反二进制数，0 取 1，1 取 0</td>
</tr>
</tbody>
</table>
</div>
<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><h4 id="获取列表的一部分"><a href="#获取列表的一部分" class="headerlink" title="获取列表的一部分"></a>获取列表的一部分</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][:<span class="number">1</span>]</span><br><span class="line">  [<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][:<span class="number">2</span>]</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][:<span class="number">3</span>]</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][<span class="number">1</span>::]</span><br><span class="line">  [<span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></tbody></table></figure>
<h4 id="获取整个列表"><a href="#获取整个列表" class="headerlink" title="获取整个列表"></a>获取整个列表</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][:]</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></tbody></table></figure>
<h4 id="反转"><a href="#反转" class="headerlink" title="反转"></a>反转</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 反转列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>][::-<span class="number">1</span>]</span><br><span class="line">  [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment"># 反转字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'nawuohzuy'</span>[::-<span class="number">1</span>]</span><br><span class="line">  <span class="string">'yuzhouwan'</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="对列表的切片赋值"><a href="#对列表的切片赋值" class="headerlink" title="对列表的切片赋值"></a>对列表的切片赋值</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">0</span>:<span class="number">3</span>] = [<span class="number">0</span>, -<span class="number">1</span>, -<span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l</span><br><span class="line">  [<span class="number">0</span>, -<span class="number">1</span>, -<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l[<span class="number">2</span>::<span class="number">3</span>] = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l</span><br><span class="line">  [<span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">9</span>]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Python-标准库"><a href="#Python-标准库" class="headerlink" title="Python 标准库"></a>Python 标准库</h2><h3 id="binascii"><a href="#binascii" class="headerlink" title="binascii"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/binascii.html">binascii</a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> binascii</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串转 16 进制</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>binascii.b2a_hex(<span class="string">u"宇宙湾"</span>.encode(<span class="string">"utf8"</span>))</span><br><span class="line">  <span class="string">'e5ae87e5ae99e6b9be'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 16 进制转字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'e5ae87e5ae99e6b9be'</span>.decode(<span class="string">'hex'</span>)</span><br><span class="line">  <span class="string">'\xe5\xae\x87\xe5\xae\x99\xe6\xb9\xbe'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">'e5ae87e5ae99e6b9be'</span>.decode(<span class="string">'hex'</span>))</span><br><span class="line">  宇宙湾</span><br></pre></td></tr></tbody></table></figure>
<h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/datetime.html">datetime</a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">start = datetime.datetime.now()</span><br><span class="line">end = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span>((end - start).microseconds)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="gettext"><a href="#gettext" class="headerlink" title="gettext"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/gettext.html">gettext</a></h3><h4 id="制作-PO-文件"><a href="#制作-PO-文件" class="headerlink" title="制作 PO 文件"></a>制作 PO 文件</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成模板</span></span><br><span class="line">$ python D:\apps\Python\Python35\Tools\i18n\pygettext.py</span><br><span class="line">$ cat messages.pot</span><br><span class="line">  <span class="comment"># SOME DESCRIPTIVE TITLE.</span></span><br><span class="line">  <span class="comment"># Copyright (C) YEAR ORGANIZATION</span></span><br><span class="line">  <span class="comment"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  msgid <span class="string">""</span></span><br><span class="line">  msgstr <span class="string">""</span></span><br><span class="line">  <span class="string">"Project-Id-Version: PACKAGE VERSION\n"</span></span><br><span class="line">  <span class="string">"POT-Creation-Date: 2017-12-28 11:24+0800\n"</span></span><br><span class="line">  <span class="string">"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"</span></span><br><span class="line">  <span class="string">"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"</span></span><br><span class="line">  <span class="string">"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"</span></span><br><span class="line">  <span class="string">"MIME-Version: 1.0\n"</span></span><br><span class="line">  <span class="string">"Content-Type: text/plain; charset=cp936\n"</span></span><br><span class="line">  <span class="string">"Content-Transfer-Encoding: 8bit\n"</span></span><br><span class="line">  <span class="string">"Generated-By: pygettext.py 1.5\n"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改 charset 为 UTF-8，以及其他基本信息</span></span><br><span class="line">$ vim messages.pot</span><br><span class="line">  <span class="comment"># SOME DESCRIPTIVE TITLE.</span></span><br><span class="line">  <span class="comment"># Copyright (C) 2017 yuzhouwan.com</span></span><br><span class="line">  <span class="comment"># Benedict Jin &lt;benedictjin2016@gmail.com&gt;, 2017.</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  msgid <span class="string">""</span></span><br><span class="line">  msgstr <span class="string">""</span></span><br><span class="line">  <span class="string">"Project-Id-Version: Yuzhouwan v1.0.2\n"</span></span><br><span class="line">  <span class="string">"POT-Creation-Date: 2017-12-28 11:24+0800\n"</span></span><br><span class="line">  <span class="string">"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"</span></span><br><span class="line">  <span class="string">"Last-Translator: Benedict Jin &lt;benedictjin2016@gmail.com&gt;\n"</span></span><br><span class="line">  <span class="string">"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"</span></span><br><span class="line">  <span class="string">"MIME-Version: 1.0\n"</span></span><br><span class="line">  <span class="string">"Content-Type: text/plain; charset=UTF-8\n"</span></span><br><span class="line">  <span class="string">"Content-Transfer-Encoding: 8bit\n"</span></span><br><span class="line">  <span class="string">"Generated-By: pygettext.py 1.5\n"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 PoEdit 打开，并且保存为 po 文件（messages.pot - messages.po）</span></span><br><span class="line"><span class="comment"># 移动到 locale 目录下</span></span><br><span class="line">$ mv messages.po locale/cn/LC_MESSAGES</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加两段翻译</span></span><br><span class="line">$ vim messages.po</span><br><span class="line">  <span class="comment"># SOME DESCRIPTIVE TITLE.</span></span><br><span class="line">  <span class="comment"># Copyright (C) 2017 yuzhouwan.com</span></span><br><span class="line">  <span class="comment"># Benedict Jin &lt;benedictjin2016@gmail.com&gt;, 2017.</span></span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">  msgid <span class="string">""</span></span><br><span class="line">  msgstr <span class="string">""</span></span><br><span class="line">  <span class="string">"Project-Id-Version: Yuzhouwan v1.0.2\n"</span></span><br><span class="line">  <span class="string">"POT-Creation-Date: 2017-12-28 11:39+0800\n"</span></span><br><span class="line">  <span class="string">"PO-Revision-Date: 2017-12-28 11:43+0800\n"</span></span><br><span class="line">  <span class="string">"Language-Team: \n"</span></span><br><span class="line">  <span class="string">"MIME-Version: 1.0\n"</span></span><br><span class="line">  <span class="string">"Content-Type: text/plain; charset=UTF-8\n"</span></span><br><span class="line">  <span class="string">"Content-Transfer-Encoding: 8bit\n"</span></span><br><span class="line">  <span class="string">"Generated-By: pygettext.py 1.5\n"</span></span><br><span class="line">  <span class="string">"X-Generator: Poedit 2.0.1\n"</span></span><br><span class="line">  <span class="string">"Last-Translator: \n"</span></span><br><span class="line">  <span class="string">"Plural-Forms: nplurals=2; plural=(n != 1);\n"</span></span><br><span class="line">  <span class="string">"Language: zh\n"</span></span><br><span class="line"></span><br><span class="line">  msgid <span class="string">"Hello, world!"</span></span><br><span class="line">  msgstr <span class="string">"世界，你好!"</span></span><br><span class="line"></span><br><span class="line">  msgid <span class="string">"yuzhouwan.com"</span></span><br><span class="line">  msgstr <span class="string">"宇宙湾"</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="编写-PO-程序"><a href="#编写-PO-程序" class="headerlink" title="编写 PO 程序"></a>编写 PO 程序</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gettext</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getLocStrings</span>():</span></span><br><span class="line">    current_dir = os.path.dirname(os.path.realpath(__file__))</span><br><span class="line">    locale_dir = os.path.join(current_dir, <span class="string">"locale"</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Locale directory:"</span>, locale_dir)</span><br><span class="line">    <span class="keyword">return</span> gettext.translation(<span class="string">'messages'</span>, locale_dir, [<span class="string">"zh_CN"</span>, <span class="string">"en-US"</span>]).gettext</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_ = getLocStrings()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(_(<span class="string">"Hello, world!"</span>))</span><br><span class="line"><span class="built_in">print</span>(_(<span class="string">"yuzhouwan.com"</span>))</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Locale directory: E:\Core Code\leetcode\i18n\locale</span><br><span class="line">世界，你好!</span><br><span class="line">宇宙湾</span><br></pre></td></tr></tbody></table></figure>
<h3 id="time"><a href="#time" class="headerlink" title="time"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/time.html">time</a></h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拿到当前时间的字符串</span></span><br><span class="line">time.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>, time.localtime())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拿到秒级的时间戳</span></span><br><span class="line"><span class="built_in">int</span>(time.mktime(time.strptime(<span class="string">"2016-3-1 0:0:0"</span>, <span class="string">"%Y-%m-%d %H:%M:%S"</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前时间戳</span></span><br><span class="line">datetime.datetime.now().time()</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Python-第三方库"><a href="#Python-第三方库" class="headerlink" title="Python 第三方库"></a>Python 第三方库</h2><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><h4 id="Flask"><a href="#Flask" class="headerlink" title="Flask"></a>Flask</h4><p>　完整的 Flask 服务端示例：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">'/'</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">welcome</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Welcome!"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">'/blog'</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">blog</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"&lt;a href='https://yuzhouwan.com/'&gt;https://yuzhouwan.com/&lt;a&gt;"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    app.run(host=<span class="string">"127.0.0.1"</span>, port=<span class="number">65533</span>, debug=<span class="literal">True</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="数据分析核心库"><a href="#数据分析核心库" class="headerlink" title="数据分析核心库"></a>数据分析核心库</h3><h4 id="Pandas"><a href="#Pandas" class="headerlink" title="Pandas"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://pandas.pydata.org/">Pandas</a></h4><h4 id="SciPy"><a href="#SciPy" class="headerlink" title="SciPy"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.scipy.org/">SciPy</a></h4><h4 id="NumPy"><a href="#NumPy" class="headerlink" title="NumPy"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.numpy.org/">NumPy</a></h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]</span><br><span class="line"><span class="built_in">print</span> np.mean(arr)     <span class="comment"># 平均值</span></span><br><span class="line"><span class="built_in">print</span> np.median(arr)   <span class="comment"># 中位数</span></span><br><span class="line"><span class="built_in">print</span> np.std(arr)      <span class="comment"># 标准差</span></span><br><span class="line"></span><br><span class="line">  <span class="number">6.0</span></span><br><span class="line">  <span class="number">6.0</span></span><br><span class="line">  <span class="number">2.82842712475</span></span><br></pre></td></tr></tbody></table></figure>
<p>Tips: Full code is <a target="_blank" rel="external nofollow noopener noreferrer" href="http://nbviewer.jupyter.org/github/asdf2014/yuzhouwan/blob/master/yuzhouwan-hacker/yuzhouwan-hacker-python/src/main/resources/numpy/NumpyExamples.ipynb">here</a>.</p>
<h3 id="统计学"><a href="#统计学" class="headerlink" title="统计学"></a><a href="https://yuzhouwan.com/posts/42737/#统计学">统计学</a></h3><h4 id="Scrapy"><a href="#Scrapy" class="headerlink" title="Scrapy"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://scrapy.org/">Scrapy</a></h4><h4 id="StatsModels"><a href="#StatsModels" class="headerlink" title="StatsModels"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://statsmodels.sourceforge.net/">StatsModels</a></h4><h3 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h3><h4 id="NLTK"><a href="#NLTK" class="headerlink" title="NLTK"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.nltk.org/">NLTK</a></h4><h4 id="Gensim"><a href="#Gensim" class="headerlink" title="Gensim"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://radimrehurek.com/gensim/">Gensim</a></h4><h3 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h3><h4 id="Scikit-learn"><a href="#Scikit-learn" class="headerlink" title="Scikit-learn"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://scikit-learn.org/">Scikit-learn</a></h4><h3 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a><a href="https://yuzhouwan.com/posts/42737/">人工智能</a></h3><h4 id="TensorFlow"><a href="#TensorFlow" class="headerlink" title="TensorFlow"></a><a href="https://yuzhouwan.com/posts/42737/#开源项目">TensorFlow</a></h4><h4 id="Theano"><a href="#Theano" class="headerlink" title="Theano"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/Theano/Theano">Theano</a></h4><h4 id="Keras"><a href="#Keras" class="headerlink" title="Keras"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://keras.io/">Keras</a></h4><h3 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h3><h4 id="PyEcharts"><a href="#PyEcharts" class="headerlink" title="PyEcharts"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://pyecharts.org/">PyEcharts</a></h4><iframe src="https://nbviewer.jupyter.org/github/asdf2014/yuzhouwan/blob/master/yuzhouwan-hacker/yuzhouwan-hacker-python/src/main/resources/pyecharts/pyecharts.ipynb" width="640" height="900" frameborder="0"></iframe>

<h4 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://matplotlib.org/">Matplotlib</a></h4><h5 id="基本绘图"><a href="#基本绘图" class="headerlink" title="基本绘图"></a>基本绘图</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">byte_arr_for_point = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">byte_arr_for_multi_point = [<span class="number">1.1</span>, <span class="number">1.2</span>, <span class="number">1.3</span>, <span class="number">1.4</span>, <span class="number">1.5</span>]</span><br><span class="line">plt.plot([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>)], byte_arr_for_point, ls=<span class="string">'-'</span>, label=<span class="string">'line1'</span>)</span><br><span class="line">plt.plot([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>)], byte_arr_for_multi_point, ls=<span class="string">'--'</span>, label=<span class="string">'line2'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'x'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'y'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="/picture/python/python_matplotlib_example.png" alt="Python Matplotlib Example"></p>
<center>（对 <a href="https://matplotlib.org/" target="_blank" rel="external nofollow noopener noreferrer">Matplotlib</a>™ 输出界面的截图）</center>

<h5 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>)</span><br><span class="line">plt.figure(<span class="number">2</span>)</span><br><span class="line">plt.figure(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">6</span>, <span class="number">100</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">  plt.figure(<span class="number">1</span>)</span><br><span class="line">  plt.plot(x, np.sin(i * x))</span><br><span class="line">  plt.figure(<span class="number">2</span>)</span><br><span class="line">  plt.plot(x, np.cos(i * x))</span><br><span class="line">  plt.figure(<span class="number">3</span>)</span><br><span class="line">  plt.plot(x, np.tan(i * x))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="/picture/python/python_matplotlib_sin.png" alt="Python Matplotlib Sin"><br><img data-src="/picture/python/python_matplotlib_cos.png" alt="Python Matplotlib Cos"><br><img data-src="/picture/python/python_matplotlib_tan.png" alt="Python Matplotlib Tan"></p>
<center>（对 <a href="https://matplotlib.org/" target="_blank" rel="external nofollow noopener noreferrer">Matplotlib</a>™ 输出界面的截图）</center>

<h5 id="积分"><a href="#积分" class="headerlink" title="积分"></a>积分</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib.pyplot <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">_</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(np.e, (-<span class="number">1</span> * _))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="number">0</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">y = f(x)</span><br><span class="line"></span><br><span class="line">fig_size = <span class="number">6</span></span><br><span class="line">fig, ax = subplots(figsize=(fig_size, fig_size * <span class="number">0.618</span>))</span><br><span class="line">plot(x, y, <span class="string">'b'</span>, linewidth=<span class="number">1</span>)</span><br><span class="line">ylim()</span><br><span class="line"></span><br><span class="line">x_ = np.linspace(a, b)</span><br><span class="line">y_ = f(x_)</span><br><span class="line">shadow = [(a, <span class="number">0</span>)] + <span class="built_in">list</span>(<span class="built_in">zip</span>(x_, y_)) + [(b, <span class="number">0</span>)]</span><br><span class="line">poly = Polygon(shadow, facecolor=<span class="string">'0.8'</span>, edgecolor=<span class="string">'0.4'</span>)</span><br><span class="line">ax.add_patch(poly)</span><br><span class="line"></span><br><span class="line">text(<span class="number">1.4</span> * (a + b), <span class="number">1.2</span>,</span><br><span class="line">     <span class="string">r"$Cost(X, Y) = \int_{x_0}^{x_1} \int_{y_0}^{y_1} e^{-\lambda|x-y|}{\rm d}x{\rm d}y$"</span>,</span><br><span class="line">     horizontalalignment=<span class="string">'center'</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">figtext(<span class="number">0.95</span>, <span class="number">0.03</span>, <span class="string">'$x$'</span>)</span><br><span class="line">figtext(<span class="number">0.075</span>, <span class="number">0.82</span>, <span class="string">'$f(x)$'</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xticks((a, b))</span><br><span class="line">ax.set_xticklabels([<span class="string">'$x=%d$'</span> % a, <span class="string">'$y=%d$'</span> % b])</span><br><span class="line">ax.set_yticks([f(a), f(b)])</span><br><span class="line">title(<span class="string">''</span>)</span><br><span class="line">show()</span><br></pre></td></tr></tbody></table></figure>
<p><img data-src="/picture/python/python_matplotlib_cost.png" alt="Python Matplotlib Cost"></p>
<center>（对 <a href="https://matplotlib.org/" target="_blank" rel="external nofollow noopener noreferrer">Matplotlib</a>™ 输出界面的截图）</center>

<h4 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://seaborn.pydata.org/">Seaborn</a></h4><h4 id="Bokeh"><a href="#Bokeh" class="headerlink" title="Bokeh"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://bokeh.pydata.org/en/latest/">Bokeh</a></h4><h4 id="Plotly"><a href="#Plotly" class="headerlink" title="Plotly"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://plot.ly/python/">Plotly</a></h4><h3 id="地图"><a href="#地图" class="headerlink" title="地图"></a>地图</h3><h4 id="GeoplotLib"><a href="#GeoplotLib" class="headerlink" title="GeoplotLib"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/andrea-cuttone/geoplotlib">GeoplotLib</a></h4><h4 id="MapBox"><a href="#MapBox" class="headerlink" title="MapBox"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.mapbox.com/">MapBox</a></h4><h3 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h3><h4 id="PIL"><a href="#PIL" class="headerlink" title="PIL"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://pillow.readthedocs.io/">PIL</a></h4><h3 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h3><h4 id="lxml"><a href="#lxml" class="headerlink" title="lxml"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="http://lxml.de/tutorial.html">lxml</a></h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_ide_id</span>(<span class="params">job_id, tag_name</span>):</span></span><br><span class="line">    <span class="comment"># view-source:http://historyserver-yuzhouwan:19888/jobhistory/conf/job_1010101010101_0101010</span></span><br><span class="line">    url = <span class="string">"http://historyserver-yuzhouwan:19888/jobhistory/conf/"</span> + job_id</span><br><span class="line">    page = requests.get(url)</span><br><span class="line">    html = page.text</span><br><span class="line">    selector = etree.HTML(html)</span><br><span class="line">    tds = selector.xpath(<span class="string">"//*[@id='conf']//tbody//tr//td//text()"</span>)</span><br><span class="line">    exist = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">for</span> td <span class="keyword">in</span> tds:</span><br><span class="line">        <span class="keyword">if</span> tag_name <span class="keyword">in</span> td:</span><br><span class="line">            exist = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> exist:</span><br><span class="line">            <span class="keyword">return</span> td.strip()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(get_ide_id(<span class="string">"job_1010101010101_0101010"</span>, <span class="string">"hive.ide.job.id"</span>))</span><br></pre></td></tr></tbody></table></figure>
<div class="note info">如果未指定 requests#get 方法中的 timeout 参数，则默认会一直阻塞着</div>





<h2 id="科学分析工具"><a href="#科学分析工具" class="headerlink" title="科学分析工具"></a>科学分析工具</h2><h3 id="IPython-Notebook"><a href="#IPython-Notebook" class="headerlink" title="IPython Notebook"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://ipython.org/notebook.html">IPython Notebook</a></h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><h5 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装之前需要确定 pip 版本足够高，以及环境变量中加入了 %PYTHON_HOME%/Script</span></span><br><span class="line">$ python -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载 Enthought Canopy 套件 (https://www.enthought.com/canopy-subscriptions/)</span></span><br><span class="line"><span class="comment"># 安装后，配置环境变量</span></span><br><span class="line">$ PATH=D:\apps\Enthought\Canopy\App;%PATH%</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">$ pip install <span class="string">"ipython[all]"</span></span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">$ mkdir ipython</span><br><span class="line">$ <span class="built_in">cd</span> ipython</span><br><span class="line">$ ipython notebook</span><br><span class="line">$ ipython notebook --pylab             <span class="comment"># pylab 模式</span></span><br><span class="line">$ ipython notebook --pylab inline      <span class="comment"># Matplotlib 生成的图片嵌入网页内显示</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install notebook</span><br><span class="line">$ jupyter notebook</span><br></pre></td></tr></tbody></table></figure>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建默认配置文件</span></span><br><span class="line">$ jupyter notebook --generate-config</span><br><span class="line">  Writing default config to: C:\Users\BenedictJin\.jupyter\jupyter_notebook_config.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改默认工作区</span></span><br><span class="line">$ vim ~/.jupyter/jupyter_notebook_config.py</span><br><span class="line">  c.NotebookApp.notebook_dir = <span class="string">'F:\Github\_draft\ipython'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启，验证</span></span><br><span class="line">$ ipython notebook</span><br></pre></td></tr></tbody></table></figure>
<h4 id="格式转换"><a href="#格式转换" class="headerlink" title="格式转换"></a>格式转换</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ipython c --to markdown --execute Basic.ipynb</span><br><span class="line"><span class="comment"># 或者使用 notedown 进行转换 (https://github.com/aaren/notedown)</span></span><br><span class="line">$ pip install notedown</span><br></pre></td></tr></tbody></table></figure>
<h4 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h4><h5 id="嵌入-Markdown"><a href="#嵌入-Markdown" class="headerlink" title="嵌入 Markdown"></a>嵌入 Markdown</h5><p>　iPython 创建好 <code>.ipynb</code>文件后，在 markdown 使用 <code>&lt;iframe&gt;</code>标签，就可以将完成嵌入<br></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"https://nbviewer.jupyter.org/github/asdf2014/yuzhouwan/blob/master/yuzhouwan-hacker/yuzhouwan-hacker-python/src/main/resources/ipython/Basic.ipynb"</span> <span class="attr">width</span>=<span class="string">"640"</span> <span class="attr">height</span>=<span class="string">"700"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><br>　如此一来，可以将 matplotlib 画出的可视化图形，展示出来，而非仅仅一段 python 脚本，实际效果如下：<p></p>
<center><iframe src="https://nbviewer.jupyter.org/github/asdf2014/yuzhouwan/blob/master/yuzhouwan-hacker/yuzhouwan-hacker-python/src/main/resources/ipython/Basic.ipynb" width="640" height="700" frameborder="0"></iframe></center>

<p>Tips: 如果你的博客也是全站 <strong>HTTPS</strong> 的话，则需要保证 <code>iframe</code> 里面加载的资源也是 <code>https</code> 的，否则 Chrome 会<a target="_blank" rel="external nofollow noopener noreferrer" href="https://developers.google.com/web/fundamentals/security/prevent-mixed-content/fixing-mixed-content?hl=zh-cn">阻止混合内容</a>的展示</p>
<h5 id="帮助文档"><a href="#帮助文档" class="headerlink" title="帮助文档"></a>帮助文档</h5><p>　<code>?</code> 单问号，可以展示出 对应函数、类、变量的文档，而使用 <code>??</code> 双问号，则可以将对应的源码展示出来</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ a = 1</span><br><span class="line">$ a?</span><br><span class="line">  Type:        int</span><br><span class="line">  String form: 1</span><br><span class="line">  Docstring:  </span><br><span class="line">  int(x=0) -&gt; int or long</span><br><span class="line">  int(x, base=10) -&gt; int or long</span><br><span class="line"></span><br><span class="line">  Convert a number or string to an <span class="built_in">integer</span>, or <span class="built_in">return</span> 0 <span class="keyword">if</span> no arguments</span><br><span class="line">  are given.  If x is floating point, the conversion truncates towards zero.</span><br><span class="line">  If x is outside the <span class="built_in">integer</span> range, the <span class="keyword">function</span> returns a long instead.</span><br><span class="line"></span><br><span class="line">  If x is not a number or <span class="keyword">if</span> base is given, <span class="keyword">then</span> x must be a string or</span><br><span class="line">  Unicode object representing an <span class="built_in">integer</span> literal <span class="keyword">in</span> the given base.  The</span><br><span class="line">  literal can be preceded by <span class="string">'+'</span> or <span class="string">'-'</span> and be surrounded by whitespace.</span><br><span class="line">  The base defaults to 10.  Valid bases are 0 and 2-36.  Base 0 means to</span><br><span class="line">  interpret the base from the string as an <span class="built_in">integer</span> literal.</span><br><span class="line">  &gt;&gt;&gt; int(<span class="string">'0b100'</span>, base=0)</span><br><span class="line">  4</span><br><span class="line"></span><br><span class="line">$ a??</span><br><span class="line">  Type:        int</span><br><span class="line">  String form: 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 另外，推荐使用 "shift + tab" 快捷键，可以更便捷地展示方法的详细描述</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="配置-iPython-Notebook-支持Python-3"><a href="#配置-iPython-Notebook-支持Python-3" class="headerlink" title="配置 iPython Notebook 支持Python 3"></a>配置 iPython Notebook <a target="_blank" rel="external nofollow noopener noreferrer" href="http://ipython.readthedocs.io/en/stable/install/kernel_install.html">支持Python 3</a></h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 python3</span></span><br><span class="line">$ <span class="built_in">which</span> python</span><br><span class="line">  /d/apps/Python/Python35/python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 iPython kernel</span></span><br><span class="line">$ python -m pip install ipykernel</span><br><span class="line">$ python -m ipykernel install --user</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 notebook</span></span><br><span class="line">$ <span class="built_in">which</span> pip</span><br><span class="line">  /d/apps/Python/Python35/Scripts/pip</span><br><span class="line">$ pip install notebook</span><br></pre></td></tr></tbody></table></figure>
<h2 id="Python-工程工具"><a href="#Python-工程工具" class="headerlink" title="Python 工程工具"></a>Python 工程工具</h2><h3 id="Tox"><a href="#Tox" class="headerlink" title="Tox"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://testrun.org/tox">Tox</a></h3><h3 id="VirtualEnv-1"><a href="#VirtualEnv-1" class="headerlink" title="VirtualEnv"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/pypa/virtualenv">VirtualEnv</a></h3><h2 id="实战技巧"><a href="#实战技巧" class="headerlink" title="实战技巧"></a>实战技巧</h2><h3 id="设置-Proxy"><a href="#设置-Proxy" class="headerlink" title="设置 Proxy"></a>设置 Proxy</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> http_proxy=<span class="string">"http://127.0.0.1:1080"</span></span><br><span class="line">$ <span class="built_in">export</span> https_proxy=<span class="string">"https://127.0.0.1:1080"</span></span><br><span class="line">$ <span class="built_in">export</span> socks5_proxy=<span class="string">"socks5://127.0.0.1:1080"</span></span><br><span class="line"><span class="comment"># pip install --upgrade pip</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Remote-Debug"><a href="#Remote-Debug" class="headerlink" title="Remote Debug"></a>Remote Debug</h3><p>　我们需要达到的效果是，<strong>本地</strong>通过 断点直接对 Python 代码进行 <strong>Debug</strong> 并<strong>修改</strong>，并在 <strong>Ctrl+S</strong> 之后会通过 <strong>SFTP</strong> 直接<strong>上传</strong>至<strong>远程服务器</strong>，待全部修改部署完成，自动通过 <strong>Flask</strong> 自动 <strong>reload 最新</strong>的<strong>代码</strong>，并<strong>自动重启</strong>远程 Python <strong>进程</strong>，在本地直接看到修改之后的线上效果。(这里我们以 Airbnb的 <a href="https://yuzhouwan.com/posts/743/">Superset</a> 项目为基础来介绍)</p>
<h4 id="PyCharm"><a href="#PyCharm" class="headerlink" title="PyCharm"></a>PyCharm</h4><h5 id="Windows-开发机"><a href="#Windows-开发机" class="headerlink" title="Windows 开发机"></a>Windows 开发机</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## local</span></span><br><span class="line"><span class="comment"># should shutdown local firewall firstly</span></span><br><span class="line">$ <span class="built_in">cd</span> .\JetBrains\PyCharm 2016.2.3\debug-eggs\pycharm-debug.egg</span><br><span class="line">$ easy_install pycharm-debug.egg</span><br><span class="line"><span class="comment"># 若运行使用的是 Python3，则需要 pycharm-debug-py3k.egg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Run/Debug Configuration - SuperSet Remote Debug - 192.168.3.10(local ip) - 12345(port &gt; 10000), will generate..</span></span><br><span class="line">import pydevd</span><br><span class="line">pydevd.settrace(<span class="string">'192.168.3.10'</span>, port=12345, stdoutToServer=True, stderrToServer=True)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Path mappings</span></span><br><span class="line">E:/Core Code/superset=/root/superset</span><br><span class="line"></span><br><span class="line"><span class="comment"># SFTP</span></span><br><span class="line"><span class="comment"># copy a project to a local directory.</span></span><br><span class="line"><span class="comment"># configure: tools - deployment, to upload this local copy to remote server</span></span><br><span class="line"><span class="comment"># config remote host</span></span><br><span class="line"></span><br><span class="line">192.168.1.10 SFTP 192.168.1.10 22 /root/superset-0.15.4 root/****** UTF-8		<span class="comment"># 脱敏</span></span><br><span class="line"><span class="comment"># Tools - Deployment - Options - Upload changed files automatically to the default server (On explicit save action (Ctrl+S))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># make deployment automatic: tools - deployment - "automatic upload"</span></span><br><span class="line"><span class="comment"># add remote interpreter: file - settings - python interpreters - "+" - "Remote.."</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Start Debug</span></span><br><span class="line">Starting debug server at port 12345</span><br><span class="line">Use the following code to connect to the debugger:</span><br><span class="line">import pydevd</span><br><span class="line">pydevd.settrace(<span class="string">'192.168.3.10'</span>, port=12345, stdoutToServer=True, stderrToServer=True)</span><br><span class="line">Waiting <span class="keyword">for</span> process connection...</span><br><span class="line">Connected to pydev debugger (build 162.1967.10)</span><br><span class="line">Starting server with <span class="built_in">command</span>: gunicorn -w 2 --timeout 60 -b 0.0.0.0:9097 --limit-request-line 0 --limit-request-field_size 0 superset:app</span><br></pre></td></tr></tbody></table></figure>
<h5 id="远程-Linux-运行环境"><a href="#远程-Linux-运行环境" class="headerlink" title="远程 Linux 运行环境"></a>远程 Linux 运行环境</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## remote</span></span><br><span class="line">$ <span class="built_in">cd</span> /root/superset</span><br><span class="line">$ <span class="built_in">source</span> bin/activate</span><br><span class="line">$ <span class="built_in">cd</span> /root/superset/lib</span><br><span class="line"><span class="comment"># cp \JetBrains\PyCharm 2016.2.3\debug-eggs\pycharm-debug.egg 到 lib 目录中</span></span><br><span class="line">$ easy_install pycharm-debug.egg</span><br><span class="line"></span><br><span class="line"><span class="comment"># trouble shooting</span></span><br><span class="line">&gt;&gt;&gt; import pydevd</span><br><span class="line"></span><br><span class="line"><span class="comment"># restart</span></span><br><span class="line">$ vim /root/superset/bin/superset</span><br><span class="line"></span><br><span class="line">  import pydevd</span><br><span class="line">  pydevd.settrace(<span class="string">'192.168.3.10'</span>, port=12345, stdoutToServer=True, stderrToServer=True)</span><br><span class="line"></span><br><span class="line"><span class="comment"># After local debug, then start superset</span></span><br><span class="line">$ mkdir logs</span><br><span class="line">$ nohup superset runserver -a 0.0.0.0 -p 9097 2&gt;&amp;1 &gt; logs/superset.log &amp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Flask - Werkzeug debugger</span></span><br><span class="line">2017-02-07 15:47:03,905:WARNING:werkzeug: * Debugger is active!</span><br><span class="line">2017-02-07 15:47:03,905:INFO:werkzeug: * Debugger pin code: 330-765-812</span><br><span class="line"></span><br><span class="line">$ pip install django-debug-toolbar</span><br><span class="line"></span><br><span class="line">$ vim lib/python2.7/site-packages/pycharm-debug.egg/tests_pydevd_python/my_django_proj_17/my_django_proj_17/settings.py</span><br><span class="line"></span><br><span class="line">  INSTALLED_APPS = (</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'debug_toolbar'</span>,                       <span class="comment"># add</span></span><br><span class="line">    <span class="string">'my_app'</span>,</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"><span class="comment"># enable django</span></span><br><span class="line">Setting - Language &amp; Frameworks - Django - <span class="string">"Enable Django Support"</span></span><br><span class="line"></span><br><span class="line">E:\Core Code\superset-0.15.4\bin\superset runserver -a <span class="string">'0.0.0.0'</span> -p 9097</span><br><span class="line"></span><br><span class="line"><span class="comment">############################# PyDevd is so stiff! Let's Try Remote Python. #############################</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 SFTP (同上)</span></span><br><span class="line"><span class="comment"># 配置 Remote Python</span></span><br><span class="line"></span><br><span class="line">  File - Settings - Project: superset-0.15.4 - Project Interpreter - show all(+) - </span><br><span class="line"></span><br><span class="line">    name:                        Remote Python 2.7.12 (ssh://root@192.168.1.10:22/root/superset-0.15.4/bin/python)</span><br><span class="line">    SSH Credentials</span><br><span class="line">    Host:                        192.168.1.10 Port: 22</span><br><span class="line">    User name:                   root</span><br><span class="line">    Auth <span class="built_in">type</span>:                   Password      <span class="comment"># 脱敏</span></span><br><span class="line">    Python interpreter path:     /root/superset-0.15.4/bin/python</span><br><span class="line">    PyCharm helpers path:        /root/superset-0.15.4/.pycharm_helpers</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果发现无法识别，可能是 python 缺少运行权限</span></span><br><span class="line">$ <span class="built_in">cd</span> /root/superset-0.15.4/bin &amp;&amp; chmod 777 *</span><br></pre></td></tr></tbody></table></figure>
<h5 id="PyCharm-相关配置"><a href="#PyCharm-相关配置" class="headerlink" title="PyCharm 相关配置"></a>PyCharm 相关配置</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置 Python 运行项目</span></span><br><span class="line"></span><br><span class="line">  Run - Run/Debug Configurations(+) - Python - </span><br><span class="line"></span><br><span class="line">    Name:                     superset</span><br><span class="line">    Script:                   E:\Core Code\superset-0.15.4\bin\superset</span><br><span class="line">    Script parameters:        runserver -d -p 9097</span><br><span class="line">    Environment Variables:    VIRTUALENVWRAPPER_PYTHON=E:\Core Code\superset-0.15.4\bin\python;PYTHONUNBUFFERED=1</span><br><span class="line">    Python interpreter:       Remote Python 2.7.12 (ssh://root@192.168.1.10:22/root/superset-0.15.4/bin/python)		<span class="comment"># 上面配置的 remote python</span></span><br><span class="line">    Working directory:        E:\Core Code\superset-0.15.4\bin</span><br><span class="line">    Path mapping:             E:/Core Code/superset-0.15.4=/root/superset-0.15.4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在用远程 python 进行 remote debug 之前，进入到 virtualenv 中</span></span><br><span class="line"><span class="comment"># 这里有可能找不到 activate 文件，可直接添加</span></span><br><span class="line"></span><br><span class="line">  File - Settings - Tools - Terminal - Shell path</span><br><span class="line"></span><br><span class="line">    /bin/bash --rcfile ~/.pycharmrc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ vim <span class="string">'/e/Core Code/superset-0.15.4/.pycharmrc'</span>     <span class="comment"># 本地工程增加 .pycharmrc</span></span><br><span class="line"></span><br><span class="line">  VIRTUAL_ENV=<span class="string">"/root/superset-0.15.4"</span>               <span class="comment"># 远程服务器中的 virtualenv 目录 (可以直接将 bin/activate 文件内容复制过来)</span></span><br><span class="line">  <span class="built_in">export</span> VIRTUAL_ENV</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 远程服务器上多了两个进程</span></span><br><span class="line">$ ps -ef | grep superset | grep -v grep</span><br><span class="line"></span><br><span class="line">  root      8638 10912  0 15:24 pts/1    00:00:00 bash -c <span class="built_in">cd</span> /root/superset-0.15.4/bin; env <span class="string">"IDE_PROJECT_ROOTS"</span>=<span class="string">"/root/superset-0.15.4"</span> <span class="string">"IPYTHONENABLE"</span>=<span class="string">"True"</span> <span class="string">"PYTHONPATH"</span>=<span class="string">"/root/superset-0.15.4:/root/superset-0.15.4/.pycharm_helpers/pydev"</span> <span class="string">"PYTHONUNBUFFERED"</span>=<span class="string">"1"</span> <span class="string">"PYCHARM_HOSTED"</span>=<span class="string">"1"</span> <span class="string">"VIRTUALENVWRAPPER_PYTHON"</span>=<span class="string">"E:\Core Code\superset-0.15.4\bin\python"</span> <span class="string">"LIBRARY_ROOTS"</span>=<span class="string">"C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/544046706;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/550610069;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/421221282;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/-1386076807;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/964856790;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/-1532312494;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/368920028/-1783908167;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/2125044534;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/550610069;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/421221282;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/-1386076807;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/-900005478;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/77779222;C:/Users/yuzhouwan/.PyCharm2016.2/system/remote_sources/250609560/-1783908167;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/2125044534;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/550610069;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/421221282;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/-1386076807;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/-900005478;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/77779222;C:/Users/yuzhouwan/.PyCharm2016.3/system/remote_sources/250609560/-1783908167;C:/Users/yuzhouwan/.PyCharm2016.3/system/python_stubs/250609560;D:/apps/JetBrains/PyCharm 2016.3.2/helpers/python-skeletons"</span> <span class="string">"PYTHONDONTWRITEBYTECODE"</span>=<span class="string">"1"</span> <span class="string">"JETBRAINS_REMOTE_RUN"</span>=<span class="string">"1"</span> <span class="string">"PYTHONIOENCODING"</span>=<span class="string">"UTF-8"</span> /root/superset-0.15.4/bin/python -u /root/superset-0.15.4/.pycharm_helpers/pydev/pydevd.py --multiproc --qt-support --client <span class="string">'0.0.0.0'</span> --port 39925 --file /root/superset-0.15.4/bin/superset runserver -d -p 9097</span><br><span class="line">  root      8660  8638 11 15:24 pts/1    00:00:17 /root/superset-0.15.4/bin/python -u /root/superset-0.15.4/.pycharm_helpers/pydev/pydevd.py --multiproc --qt-support --client 0.0.0.0 --port 39925 --file /root/superset-0.15.4/bin/superset runserver -d -p 9097</span><br><span class="line">  root      8715  8660 28 15:24 pts/1    00:00:38 /root/superset-0.15.4/bin/python /root/superset-0.15.4/.pycharm_helpers/pydev/pydevd.py --multiproc --qt-support --client 0.0.0.0 --port 39925 --file /root/superset-0.15.4/bin/superset runserver -d -p 9097</span><br></pre></td></tr></tbody></table></figure>
<h5 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h5><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地 windows 上访问</span></span><br><span class="line">http://192.168.1.10:9097/login/</span><br></pre></td></tr></tbody></table></figure>
<h4 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h4><p>　Not good for me! You can still try it if you are interested.</p>
<h4 id="踩过的坑"><a href="#踩过的坑" class="headerlink" title="踩过的坑"></a>踩过的坑</h4><h5 id="Gunicorn-预开启了多个-Work-子进程，无法-Remote-Debug"><a href="#Gunicorn-预开启了多个-Work-子进程，无法-Remote-Debug" class="headerlink" title="Gunicorn 预开启了多个 Work 子进程，无法 Remote Debug"></a>Gunicorn 预开启了多个 Work 子进程，无法 Remote Debug</h5><h6 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h6><p>　在本地 windows 开发机上，远程连接 linux 上运行在 virtualenv 里的 superset，发现可以 debug，但是 superset 里的 gunicorn 用的是 prefork 模型，开启了好多个 work 子进程</p>
<h6 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h6><p>a) 正常的 remote debug 来处理                    —not ok</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Connected to pydev debugger (build 162.1967.10)</span><br><span class="line">[2017-02-06 18:13:22 +0000] [13609] [INFO] Starting gunicorn 19.6.0</span><br><span class="line">[2017-02-06 18:13:22 +0000] [13609] [INFO] Listening at: http://0.0.0.0:9097 (13609)</span><br><span class="line">[2017-02-06 18:13:22 +0000] [13609] [INFO] Using worker: sync</span><br><span class="line">[2017-02-06 18:14:23 +0000] [13609] [CRITICAL] WORKER TIMEOUT (pid:13624)</span><br><span class="line">[2017-02-06 18:14:23 +0000] [13609] [CRITICAL] WORKER TIMEOUT (pid:13623)</span><br></pre></td></tr></tbody></table></figure>
<p>b) 所以用 “Django server” 替换 “Python Remote Debug” 来进行调试                    —not ok</p>
<p>　配置的 Remote Python 明明是 <code>/root/superset/bin/python</code>，但是看到 报错信息里面，用的却是 <code>/usr/local/bin/python</code></p>
<p>c) ipdb                    —not good</p>
<p>　将 gunicorn 进程切换到前台，在 命令行用 ipdb 进行 debug</p>
<p>d) 增加 <code>-w</code> 参数，控制 work 数量                    —not ok</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@manager.option(</span><br><span class="line"><span class="string">'-w'</span>, <span class="string">'--workers'</span>, default=config.get(<span class="string">"SUPERSET_WORKERS"</span>, 2),    <span class="comment"># default: 2</span></span><br><span class="line"><span class="built_in">help</span>=<span class="string">"Number of gunicorn web server workers to fire up"</span>)</span><br><span class="line"></span><br><span class="line">$ superset runserver -a 0.0.0.0 -p 9097 -w 0</span><br></pre></td></tr></tbody></table></figure>
<p>e) 关闭 gunicorn                    —ok</p>
<p>　只有在压测时候，才需要开启 gunicorn<br>　<code>superset runserver -d -p 9097</code></p>
<h5 id="Trying-to-add-breakpoint-to-file-that-does-not-exist"><a href="#Trying-to-add-breakpoint-to-file-that-does-not-exist" class="headerlink" title="Trying to add breakpoint to file that does not exist"></a>Trying to add breakpoint to file that does not exist</h5><h6 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pydev debugger: warning: trying to add breakpoint to file that does not exist: /root/superset/d:/apps/python27/lib/site-packages/gunicorn/arbiter.py</span><br></pre></td></tr></tbody></table></figure>
<h6 id="解决-1"><a href="#解决-1" class="headerlink" title="解决"></a>解决</h6><p>a) 增加 python 中 site-packages 的 mapping 映射                    —not good</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:/Core Code/superset=/root/superset;D:/apps/Python27=/root/superset/lib/python2.7</span><br></pre></td></tr></tbody></table></figure>
<p>b) 修改 python 为 superset 项目中的 python，而不是本机的 python                    —ok</p>
<p>　同步到本机的 python 不是 python.exe                    —no<br>　使用 remote python                                                 —ok</p>
<h5 id="Couldn’t-obtain-remote-socket"><a href="#Couldn’t-obtain-remote-socket" class="headerlink" title="Couldn’t obtain remote socket"></a>Couldn’t obtain remote socket</h5><h6 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Error running superset</span><br><span class="line">Can<span class="string">'t run remote python interpreter: Couldn'</span>t obtain remote socket from output (<span class="string">'0.0.0.0'</span>, 52703), stderr /usr/<span class="built_in">local</span>/bin/python: No module named virtualenvwrapper virtualenvwrapper.sh: There was a problem running the initialization hooks. </span><br><span class="line">If Python could not import the module virtualenvwrapper.hook_loader, check that virtualenvwrapper has been installed <span class="keyword">for</span> VIRTUALENVWRAPPER_PYTHON=/usr/<span class="built_in">local</span>/bin/python and that PATH is <span class="built_in">set</span> properly.</span><br></pre></td></tr></tbody></table></figure>
<h6 id="解决-2"><a href="#解决-2" class="headerlink" title="解决"></a>解决</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 PATH 是否包含 venvWapper 的环境变量</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 没有，则检查 ~/.bashrc，将其注释</span></span><br><span class="line"><span class="comment"># Source global definitions</span></span><br><span class="line"><span class="comment"># export WORKON_HOME=~/virtualenv</span></span><br><span class="line"><span class="comment"># source /usr/local/bin/virtualenvwrapper.sh</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Vagrant"><a href="#Vagrant" class="headerlink" title="Vagrant"></a>Vagrant</h3><p>　<strong>Vagrant</strong> 是一款可以<code>自动化</code>虚拟机的 <code>安装和配置流程</code>的软件</p>
<h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vagrant</span></span><br><span class="line">  https://www.vagrantup.com/downloads.html</span><br><span class="line"></span><br><span class="line"><span class="comment"># VirtualBox</span></span><br><span class="line">  https://www.virtualbox.org/wiki/Downloads</span><br><span class="line">  http://download.virtualbox.org/virtualbox/5.1.12/      <span class="comment"># better</span></span><br><span class="line">  https://hashicorp-files.hashicorp.com/lucid32.box      <span class="comment"># not good</span></span><br><span class="line">  https://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box      <span class="comment"># best</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 相关镜像</span></span><br><span class="line">  https://atlas.hashicorp.com/boxes/search</span><br><span class="line">  http://chef.github.io/bento/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装完成之后，需要 cmd/pycharm/git dash 等等，最好重启电脑</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant box add superset /f/软件库/python/trusty-server-cloudimg-amd64-juju-vagrant-disk1.box</span><br><span class="line"></span><br><span class="line">  ==&gt; box: Box file was not detected as metadata. Adding it directly...</span><br><span class="line">  ==&gt; box: Adding box <span class="string">'superset'</span> (v0) <span class="keyword">for</span> provider:</span><br><span class="line">      box: Unpacking necessary files from: file:///F:/%C8%ED%BC%FE%BF%E2/python/trusty-server-cloudimg-amd64-juju-vagrant-disk1.box</span><br><span class="line">      box:</span><br><span class="line">  ==&gt; box: Successfully added box <span class="string">'superset'</span> (v0) <span class="keyword">for</span> <span class="string">'virtualbox'</span>!</span><br><span class="line"></span><br><span class="line">$ vagrant box list</span><br><span class="line">  superset (virtualbox, 0)</span><br><span class="line"></span><br><span class="line">$ vagrant init</span><br><span class="line"></span><br><span class="line">  A `Vagrantfile` has been placed <span class="keyword">in</span> this directory. You are now ready to `vagrant up` your first virtual environment! Please <span class="built_in">read</span> the comments <span class="keyword">in</span> the Vagrantfile as well as documentation on `vagrantup.com` <span class="keyword">for</span> more information on using Vagrant.</span><br><span class="line"></span><br><span class="line">$ vim /e/vagrant/superset-0.15.4/Vagrantfile</span><br><span class="line"></span><br><span class="line">  <span class="comment"># -*- mode: ruby -*-</span></span><br><span class="line">  <span class="comment"># vi: set ft=ruby :</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Vagrant.configure("2") do |config|</span></span><br><span class="line">  <span class="comment">#   config.vm.box = "superset"</span></span><br><span class="line">  <span class="comment">#   config.vm.box_check_update = false</span></span><br><span class="line">  <span class="comment">#   config.ssh.shell = "bash -c 'BASH_ENV=/etc/profile exec bash'"</span></span><br><span class="line">  <span class="comment">#   config.vm.synced_folder "./", "/root/superset-0.15.4"</span></span><br><span class="line">  <span class="comment"># </span></span><br><span class="line">  <span class="comment">#   config.vm.network "public_network"</span></span><br><span class="line">  <span class="comment">#   config.vm.provider "virtualbox" do |vb|</span></span><br><span class="line">  <span class="comment">#     vb.gui = true</span></span><br><span class="line">  <span class="comment">#     vb.memory = "1024"</span></span><br><span class="line">  <span class="comment">#   end</span></span><br><span class="line">  <span class="comment">#   config.vm.provision "shell", inline: &lt;&lt;-SHELL</span></span><br><span class="line">  <span class="comment">#     apt-get update</span></span><br><span class="line">  <span class="comment">#   SHELL</span></span><br><span class="line">  <span class="comment"># end</span></span><br><span class="line"></span><br><span class="line">$ vagrant up --provide virtualbox</span><br><span class="line"></span><br><span class="line">  Bringing machine <span class="string">'default'</span> up with <span class="string">'virtualbox'</span> provider...</span><br><span class="line">  ==&gt; default: Importing base box <span class="string">'superset'</span>...</span><br><span class="line">  ==&gt; default: Matching MAC address <span class="keyword">for</span> NAT networking...</span><br><span class="line">  ==&gt; default: Setting the name of the VM: superset-0154_default_1486969836220_44233</span><br><span class="line">  ==&gt; default: Clearing any previously <span class="built_in">set</span> forwarded ports...</span><br><span class="line">  ==&gt; default: Clearing any previously <span class="built_in">set</span> network interfaces...</span><br><span class="line">  ==&gt; default: Preparing network interfaces based on configuration...</span><br><span class="line">      default: Adapter 1: nat</span><br><span class="line">      default: Adapter 2: hostonly</span><br><span class="line">  ==&gt; default: Forwarding ports...</span><br><span class="line">      default: 22 (guest) =&gt; 2122 (host) (adapter 1)</span><br><span class="line">      default: 80 (guest) =&gt; 6080 (host) (adapter 1)</span><br><span class="line">      default: 6079 (guest) =&gt; 6079 (host) (adapter 1)</span><br><span class="line">      default: 22 (guest) =&gt; 2222 (host) (adapter 1)</span><br><span class="line">  ==&gt; default: Running <span class="string">'pre-boot'</span> VM customizations...</span><br><span class="line">  ==&gt; default: Booting VM...</span><br><span class="line">  ==&gt; default: Waiting <span class="keyword">for</span> machine to boot. This may take a few minutes...</span><br><span class="line">      default: SSH address: 127.0.0.1:2222</span><br><span class="line">      default: SSH username: vagrant</span><br><span class="line">      default: SSH auth method: private key</span><br></pre></td></tr></tbody></table></figure>
<h4 id="踩过的坑-1"><a href="#踩过的坑-1" class="headerlink" title="踩过的坑"></a>踩过的坑</h4><h5 id="Provider-‘virtualbox’-not-found"><a href="#Provider-‘virtualbox’-not-found" class="headerlink" title="Provider ‘virtualbox’ not found"></a>Provider ‘virtualbox’ not found</h5><h6 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a>描述</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant up</span><br><span class="line">  ==&gt;  Provider <span class="string">'virtualbox'</span> not found. We<span class="string">'ll automatically install it now...</span></span><br><span class="line"><span class="string">  The installation process will start below. Human interaction may be required at some points. If you'</span>re uncomfortable with automatically installing this provider, you can safely Ctrl-C this process and install it manually.</span><br><span class="line">  ==&gt;  Downloading VirtualBox 5.0.10...</span><br><span class="line">  This may not be the latest version of VirtualBox, but it is a version that is known to work well. Over time, we<span class="string">'ll update the version that is installed.</span></span><br></pre></td></tr></tbody></table></figure>
<h6 id="解决-3"><a href="#解决-3" class="headerlink" title="解决"></a>解决</h6><p>　<code>vagrant up --provider=virtualbox</code></p>
<h5 id="Timed-out-while-waiting-for-the-machine-to-boot"><a href="#Timed-out-while-waiting-for-the-machine-to-boot" class="headerlink" title="Timed out while waiting for the machine to boot"></a>Timed out while waiting for the machine to boot</h5><h6 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a>描述</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">子目录或文件 -p 已经存在。</span><br><span class="line">处理: -p 时出错。</span><br><span class="line">子目录或文件 charms 已经存在。</span><br><span class="line">处理: charms 时出错。</span><br><span class="line">Timed out <span class="keyword">while</span> waiting <span class="keyword">for</span> the machine to boot. This means that Vagrant was unable to communicate with the guest machine within the configured (<span class="string">"config.vm.boot_timeout"</span> value) time period.</span><br><span class="line"></span><br><span class="line">If you look above, you should be able to see the error(s) that Vagrant had when attempting to connect to the machine. These errors are usually good hints as to what may be wrong.</span><br><span class="line"></span><br><span class="line">If you<span class="string">'re using a custom box, make sure that networking is properly working and you'</span>re able to connect to the machine. It is a common problem that networking isn<span class="string">'t setup properly in these boxes. Verify that authentication configurations are also setup properly, as well.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">If the box appears to be booting properly, you may want to increase the timeout ("config.vm.boot_timeout") value.'</span></span><br></pre></td></tr></tbody></table></figure>
<h6 id="解决-4"><a href="#解决-4" class="headerlink" title="解决"></a>解决</h6><p>　升级 VirtualBox 到 5.1.12</p>
<h5 id="default-stdin-is-not-a-tty"><a href="#default-stdin-is-not-a-tty" class="headerlink" title="default: stdin: is not a tty"></a>default: stdin: is not a tty</h5><h6 id="描述-5"><a href="#描述-5" class="headerlink" title="描述"></a>描述</h6><p>　default: stdin: is not a tty</p>
<h6 id="解决-5"><a href="#解决-5" class="headerlink" title="解决"></a>解决</h6><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.ssh.shell = <span class="string">"bash -c 'BASH_ENV=/etc/profile exec bash'"</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Unittest"><a href="#Unittest" class="headerlink" title="Unittest"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.python.org/3/library/unittest.html#test-discovery">Unittest</a></h3><h4 id="t-改变-顶级-package-路径"><a href="#t-改变-顶级-package-路径" class="headerlink" title="-t 改变 顶级 package 路径"></a>-t 改变 顶级 package 路径</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">The discover sub-command has the following options:</span><br><span class="line"></span><br><span class="line">  -v, --verbose                         Verbose output</span><br><span class="line">  -s, --start-directory directory       Directory to start discovery (. default)</span><br><span class="line">  -p, --pattern pattern                 Pattern to match <span class="built_in">test</span> files (<span class="built_in">test</span>*.py default)</span><br><span class="line">  -t, --top-level-directory directory   Top level directory of project (defaults to start directory)</span><br><span class="line"></span><br><span class="line">Name                          druid_tests</span><br><span class="line">Script                        E:\Core Code\superset-0.15.4\code\tests\druid_tests.py</span><br><span class="line">Environment variables         VIRTUALENVWRAPPER_PYTHON=E:\Core Code\superset-0.15.4\bin\python;PYTHONUNBUFFERED=1</span><br><span class="line">Python interpreter            Remote Python 2.7.12 (ssh://root@192.168.1.10:22/root/superset-0.15.4/bin/python)</span><br><span class="line">Interpreter options           -m tests.druid_tests</span><br><span class="line">Working directory             E:\Core Code\superset-0.15.4\code\</span><br><span class="line">Path mappings                 E:/Core Code/superset-0.15.4=/root/superset-0.15.4</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">export</span> SUPERSET_CONFIG=tests.superset_test_config</span><br><span class="line">$ python -m tests.druid_tests discover . <span class="string">"druid_tests.py"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试完成之后，需要 unset掉 SUPERSET_CONFIG</span></span><br><span class="line">$ <span class="built_in">unset</span> SUPERSET_CONFIG</span><br></pre></td></tr></tbody></table></figure>
<h3 id="参数解析"><a href="#参数解析" class="headerlink" title="参数解析"></a>参数解析</h3><ul>
<li>编写示例</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim blog.py</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">'--ip'</span>, <span class="string">'-i'</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">'ip'</span>, default=<span class="string">"localhost"</span>, required=<span class="literal">False</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--port'</span>, <span class="string">'-p'</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, <span class="built_in">help</span>=<span class="string">'port'</span>, default=<span class="number">80</span>, required=<span class="literal">False</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--debug'</span>, <span class="string">'-d'</span>, action=<span class="string">'store_true'</span>, <span class="built_in">help</span>=<span class="string">'enable debug mode'</span>, default=<span class="literal">False</span>, required=<span class="literal">False</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">ip = <span class="built_in">str</span>(args.ip)</span><br><span class="line">port = <span class="built_in">int</span>(args.port)</span><br><span class="line">debug = args.debug</span><br><span class="line"><span class="keyword">if</span> port == <span class="number">80</span>:</span><br><span class="line">    blog = <span class="string">"https://%s"</span> % ip</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    blog = <span class="string">"https://%s:%s"</span> % (ip, port)</span><br><span class="line"><span class="keyword">if</span> debug:</span><br><span class="line">    <span class="built_in">print</span>(blog)</span><br><span class="line">os.system(<span class="string">"open '%s'"</span> % blog)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>查看帮助文档</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 blog.py -h</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">usage: blog.py [-h] [--ip IP] [--port PORT] [--debug]</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h, --<span class="built_in">help</span>            show this <span class="built_in">help</span> message and <span class="built_in">exit</span></span><br><span class="line">  --ip IP, -i IP        ip</span><br><span class="line">  --port PORT, -p PORT  port</span><br><span class="line">  --debug, -d           <span class="built_in">enable</span> debug mode</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>执行脚本</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3 blog.py -i yuzhouwan.com -d</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://yuzhouwan.com</span><br></pre></td></tr></tbody></table></figure>
<h2 id="踩过的坑-2"><a href="#踩过的坑-2" class="headerlink" title="踩过的坑"></a>踩过的坑</h2><h3 id="UnicodeDecodeError-‘gbk’-codec-can’t-decode-byte-0x87-in-position-illegal-multibyte-sequence"><a href="#UnicodeDecodeError-‘gbk’-codec-can’t-decode-byte-0x87-in-position-illegal-multibyte-sequence" class="headerlink" title="UnicodeDecodeError: ‘gbk’ codec can’t decode byte 0x87 in position illegal multibyte sequence"></a>UnicodeDecodeError: ‘gbk’ codec can’t decode byte 0x87 in position illegal multibyte sequence</h3><h4 id="解决-6"><a href="#解决-6" class="headerlink" title="解决"></a>解决</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在程序开头，指定编码，并在 open 文件的时候，指定 encoding 属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -*- coding:utf8 -*-</span></span><br><span class="line"><span class="built_in">open</span>(fname, <span class="string">"r"</span>, encoding=<span class="string">"utf8"</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="connection-broken-by-SSLError"><a href="#connection-broken-by-SSLError" class="headerlink" title="connection broken by SSLError"></a>connection broken by SSLError</h3><h4 id="解决-7"><a href="#解决-7" class="headerlink" title="解决"></a>解决</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python -m pip install --trusted-host pypi.python.org --trusted-host files.pythonhosted.org --trusted-host pypi.org --upgrade pip</span><br></pre></td></tr></tbody></table></figure>
<h3 id="ModuleNotFoundError-No-module-named-‘yaml’"><a href="#ModuleNotFoundError-No-module-named-‘yaml’" class="headerlink" title="ModuleNotFoundError: No module named ‘yaml’"></a>ModuleNotFoundError: No module named ‘yaml’</h3><h4 id="解决-8"><a href="#解决-8" class="headerlink" title="解决"></a>解决</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install pyyaml</span><br></pre></td></tr></tbody></table></figure>
<h3 id="ERROR-Gateway-Timeout"><a href="#ERROR-Gateway-Timeout" class="headerlink" title="ERROR: Gateway Timeout"></a>ERROR: Gateway Timeout</h3><h4 id="解决-9"><a href="#解决-9" class="headerlink" title="解决"></a>解决</h4><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭代理</span></span><br><span class="line">os.environ[<span class="string">'NO_PROXY'</span>] = <span class="string">'127.0.0.1'</span></span><br><span class="line">r = requests.get(<span class="string">'http://127.0.0.1:8080'</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><h3 id="Book"><a href="#Book" class="headerlink" title="Book"></a>Book</h3><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.amazon.com/Python-Data-Science-Handbook-Essential/dp/1491912057">Python Data Science Handbook: Essential Tools for Working with Data</a></li>
</ul>
<h3 id="Resource"><a href="#Resource" class="headerlink" title="Resource"></a>Resource</h3><ul>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/vinta/awesome-python#awesome-python-">A curated list of awesome Python frameworks, libraries, software and resources</a></p>
</li>
<li><p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://pypl.github.io/PYPL.html">PYPL PopularitY of Programming Language</a></p>
<p><img data-src="/picture/language/pypl_popularity_of_programming_language.png" alt="PYPL PopularitY of Programming Language"></p>
<center>（图片来源：<a href="http://pypl.github.io/PYPL.html" target="_blank" rel="external nofollow noopener noreferrer">pypl.github.io</a>™）</center>






</li>
</ul>
<h2 id="欢迎加入我们的技术群，一起交流学习"><a href="#欢迎加入我们的技术群，一起交流学习" class="headerlink" title="欢迎加入我们的技术群，一起交流学习"></a><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/asdf2014/yuzhouwan#technical-discussion-group">欢迎加入我们的技术群，一起交流学习</a></h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">群名称</th>
<th style="text-align:center">群号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">人工智能（高级）</td>
<td style="text-align:center"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://shang.qq.com/wpa/qunwpa?idkey=71c6bd3fb0ff01d93abca654140387d99d3be752f92a53c1fbfd27f2dd4b4247"><img data-src="https://img.shields.io/badge/QQ%E7%BE%A4-1020982-blue.svg" alt></a></td>
</tr>
<tr>
<td style="text-align:center">人工智能（进阶）</td>
<td style="text-align:center"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://shang.qq.com/wpa/qunwpa?idkey=deb268f65589a1a0a1dbaf7b72c849ed45298697805bef81e0c613dea40cd05e"><img data-src="https://img.shields.io/badge/QQ%E7%BE%A4-1217710-blue.svg" alt></a></td>
</tr>
<tr>
<td style="text-align:center">BigData</td>
<td style="text-align:center"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://shang.qq.com/wpa/qunwpa?idkey=f86b3c8de20da1658a3bb42df17a2fc4eee0d75c4a130a63585fdd257e3565ed"><img data-src="https://img.shields.io/badge/QQ%E7%BE%A4-1670647-blue.svg" alt></a></td>
</tr>
<tr>
<td style="text-align:center">算法</td>
<td style="text-align:center"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://shang.qq.com/wpa/qunwpa?idkey=bfbcf1453371a0810fd6be235ace47147f6fb9d262fb768b497c861f50af0af4"><img data-src="https://img.shields.io/badge/QQ%E7%BE%A4-5366753-blue.svg" alt></a></td>
</tr>
</tbody>
</table>
</div>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/19631/" rel="bookmark">如何成为 Apache 的 PMC</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/743/" rel="bookmark">Apache Superset 二次开发</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/5845/" rel="bookmark">Apache Druid：一款高效的 OLAP 引擎</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/42737/" rel="bookmark">人工智能</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/666/" rel="bookmark">Algorithm</a></div>
    </li>
  </ul>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Benedict Jin
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://yuzhouwan.com/posts/43687/" title="Python：从入门到实践">https://yuzhouwan.com/posts/43687/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-ND</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Apache-Superset/" rel="tag"># Apache Superset</a>
              <a href="/tags/TensorFlow/" rel="tag"># TensorFlow</a>
              <a href="/tags/Python/" rel="tag"># Python</a>
              <a href="/tags/iPython/" rel="tag"># iPython</a>
              <a href="/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" rel="tag"># 人工智能</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/55501/" rel="prev" title="Antlr">
      <i class="fa fa-chevron-left"></i> Antlr
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/13977/" rel="next" title="Apache Storm 简介">
      Apache Storm 简介 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-gitalk">Gitalk：可用 Github 账号登录</a></li>
            <li class="tab"><a href="#comment-disqus">Disqus：海外</a></li>
            <li class="tab"><a href="#comment-valine">Valine：匿名</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane gitalk" id="comment-gitalk">
              <div class="comments" id="gitalk-container"></div>
            </div>
            <div class="tab-pane disqus" id="comment-disqus">
              
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Python"><span class="nav-number">1.</span> <span class="nav-text">什么是 Python?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9C%89-Python"><span class="nav-number">2.</span> <span class="nav-text">为什么要有 Python?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%83%B6%E6%B0%B4%E8%AF%AD%E8%A8%80"><span class="nav-number">2.1.</span> <span class="nav-text">胶水语言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80"><span class="nav-number">2.2.</span> <span class="nav-text">脚本语言</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2"><span class="nav-number">3.</span> <span class="nav-text">环境部署</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Python-%E5%AE%89%E8%A3%85"><span class="nav-number">3.1.</span> <span class="nav-text">Python 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83"><span class="nav-number">3.1.1.</span> <span class="nav-text">Linux 基础环境</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Python-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="nav-number">3.1.2.</span> <span class="nav-text">Python 编译安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A6%86%E7%9B%96%E6%97%A7%E7%89%88-Python"><span class="nav-number">3.1.3.</span> <span class="nav-text">覆盖旧版 Python</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%81%A2%E5%A4%8D-yum-%E4%B8%AD%E6%97%A7%E7%89%88-Python-%E7%9A%84%E5%BC%95%E7%94%A8"><span class="nav-number">3.1.4.</span> <span class="nav-text">恢复 yum 中旧版 Python 的引用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pip"><span class="nav-number">3.2.</span> <span class="nav-text">Pip</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">3.2.1.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E7%BA%BF"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">在线</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A6%BB%E7%BA%BF"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">离线</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VirtualEnv"><span class="nav-number">3.3.</span> <span class="nav-text">VirtualEnv</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%8E%8B%E5%AE%89%E8%A3%85"><span class="nav-number">3.3.1.</span> <span class="nav-text">解压安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF"><span class="nav-number">3.3.2.</span> <span class="nav-text">部署上线</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D"><span class="nav-number">3.3.2.1.</span> <span class="nav-text">拷贝</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93"><span class="nav-number">3.3.2.2.</span> <span class="nav-text">动态链接库</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#VirtualEnvWrapper"><span class="nav-number">3.3.3.</span> <span class="nav-text">VirtualEnvWrapper</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">4.</span> <span class="nav-text">基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">4.1.</span> <span class="nav-text">基本数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#int"><span class="nav-number">4.1.1.</span> <span class="nav-text">int</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#int-%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="nav-number">4.1.1.1.</span> <span class="nav-text">int 类型的最大值</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#float"><span class="nav-number">4.1.2.</span> <span class="nav-text">float</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#inf-%E6%97%A0%E7%A9%B7%E5%A4%A7"><span class="nav-number">4.1.2.1.</span> <span class="nav-text">inf 无穷大</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#string"><span class="nav-number">4.1.3.</span> <span class="nav-text">string</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#split"><span class="nav-number">4.1.3.1.</span> <span class="nav-text">split</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">4.1.3.2.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="nav-number">4.1.3.3.</span> <span class="nav-text">占位符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%81%8D%E5%8E%86%E5%AD%97%E7%AC%A6"><span class="nav-number">4.1.3.4.</span> <span class="nav-text">遍历字符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%93%E5%8D%B0"><span class="nav-number">4.2.</span> <span class="nav-text">打印</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E6%8D%A2%E8%A1%8C"><span class="nav-number">4.2.1.</span> <span class="nav-text">不换行</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OS"><span class="nav-number">4.3.</span> <span class="nav-text">OS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3"><span class="nav-number">4.3.1.</span> <span class="nav-text">操作系统相关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6-%E8%B7%AF%E5%BE%84%E4%BF%A1%E6%81%AF"><span class="nav-number">4.3.2.</span> <span class="nav-text">获取文件&#x2F;路径信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%99%85%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6-%E8%B7%AF%E5%BE%84"><span class="nav-number">4.3.3.</span> <span class="nav-text">实际操作文件 &#x2F; 路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="nav-number">4.3.4.</span> <span class="nav-text">读取文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C-shell-%E5%91%BD%E4%BB%A4"><span class="nav-number">4.3.5.</span> <span class="nav-text">执行 shell 命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON"><span class="nav-number">4.4.</span> <span class="nav-text">JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E4%B8%8E%E6%8F%90%E5%8F%96"><span class="nav-number">4.4.1.</span> <span class="nav-text">加载与提取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E-YAML-%E6%A0%BC%E5%BC%8F%E4%BA%92%E6%8D%A2"><span class="nav-number">4.4.2.</span> <span class="nav-text">与 YAML 格式互换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9B%86%E5%90%88"><span class="nav-number">4.5.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#map"><span class="nav-number">4.5.1.</span> <span class="nav-text">map</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC-%E5%8F%96%E5%80%BC"><span class="nav-number">4.5.1.1.</span> <span class="nav-text">赋值 &#x2F; 取值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F"><span class="nav-number">4.5.1.2.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%81%8D%E5%8E%86"><span class="nav-number">4.5.1.3.</span> <span class="nav-text">遍历</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B1%82%E5%92%8C"><span class="nav-number">4.5.1.4.</span> <span class="nav-text">求和</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#list"><span class="nav-number">4.5.2.</span> <span class="nav-text">list</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E5%B1%82-list"><span class="nav-number">4.5.2.1.</span> <span class="nav-text">单层 list</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%8C%E5%B1%82-list"><span class="nav-number">4.5.2.2.</span> <span class="nav-text">双层 list</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Join-%E5%8F%8C%E5%B1%82-list"><span class="nav-number">4.5.2.3.</span> <span class="nav-text">Join 双层 list</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#set"><span class="nav-number">4.5.3.</span> <span class="nav-text">set</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iter"><span class="nav-number">4.5.4.</span> <span class="nav-text">iter</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">4.6.</span> <span class="nav-text">流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#if-else"><span class="nav-number">4.6.1.</span> <span class="nav-text">if-else</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#try-except"><span class="nav-number">4.6.2.</span> <span class="nav-text">try-except</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97"><span class="nav-number">4.7.</span> <span class="nav-text">算术运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%A4%E4%BB%A5%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%95%86%E7%9A%84%E6%95%B4%E6%95%B0%E5%80%BC"><span class="nav-number">4.7.1.</span> <span class="nav-text">除以并返回商的整数值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="nav-number">4.8.</span> <span class="nav-text">逻辑运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#amp-vs-and"><span class="nav-number">4.8.1.</span> <span class="nav-text">&amp; vs and</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">4.9.</span> <span class="nav-text">位运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E7%89%87"><span class="nav-number">4.10.</span> <span class="nav-text">切片</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%88%97%E8%A1%A8%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86"><span class="nav-number">4.10.1.</span> <span class="nav-text">获取列表的一部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B4%E4%B8%AA%E5%88%97%E8%A1%A8"><span class="nav-number">4.10.2.</span> <span class="nav-text">获取整个列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8D%E8%BD%AC"><span class="nav-number">4.10.3.</span> <span class="nav-text">反转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E5%88%97%E8%A1%A8%E7%9A%84%E5%88%87%E7%89%87%E8%B5%8B%E5%80%BC"><span class="nav-number">4.10.4.</span> <span class="nav-text">对列表的切片赋值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python-%E6%A0%87%E5%87%86%E5%BA%93"><span class="nav-number">5.</span> <span class="nav-text">Python 标准库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#binascii"><span class="nav-number">5.1.</span> <span class="nav-text">binascii</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#datetime"><span class="nav-number">5.2.</span> <span class="nav-text">datetime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gettext"><span class="nav-number">5.3.</span> <span class="nav-text">gettext</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%B6%E4%BD%9C-PO-%E6%96%87%E4%BB%B6"><span class="nav-number">5.3.1.</span> <span class="nav-text">制作 PO 文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E5%86%99-PO-%E7%A8%8B%E5%BA%8F"><span class="nav-number">5.3.2.</span> <span class="nav-text">编写 PO 程序</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#time"><span class="nav-number">5.4.</span> <span class="nav-text">time</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="nav-number">6.</span> <span class="nav-text">Python 第三方库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="nav-number">6.1.</span> <span class="nav-text">服务端</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Flask"><span class="nav-number">6.1.1.</span> <span class="nav-text">Flask</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A0%B8%E5%BF%83%E5%BA%93"><span class="nav-number">6.2.</span> <span class="nav-text">数据分析核心库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pandas"><span class="nav-number">6.2.1.</span> <span class="nav-text">Pandas</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SciPy"><span class="nav-number">6.2.2.</span> <span class="nav-text">SciPy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NumPy"><span class="nav-number">6.2.3.</span> <span class="nav-text">NumPy</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E5%AD%A6"><span class="nav-number">6.3.</span> <span class="nav-text">统计学</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Scrapy"><span class="nav-number">6.3.1.</span> <span class="nav-text">Scrapy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#StatsModels"><span class="nav-number">6.3.2.</span> <span class="nav-text">StatsModels</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NLP"><span class="nav-number">6.4.</span> <span class="nav-text">NLP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NLTK"><span class="nav-number">6.4.1.</span> <span class="nav-text">NLTK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Gensim"><span class="nav-number">6.4.2.</span> <span class="nav-text">Gensim</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"><span class="nav-number">6.5.</span> <span class="nav-text">机器学习</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Scikit-learn"><span class="nav-number">6.5.1.</span> <span class="nav-text">Scikit-learn</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD"><span class="nav-number">6.6.</span> <span class="nav-text">人工智能</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TensorFlow"><span class="nav-number">6.6.1.</span> <span class="nav-text">TensorFlow</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Theano"><span class="nav-number">6.6.2.</span> <span class="nav-text">Theano</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Keras"><span class="nav-number">6.6.3.</span> <span class="nav-text">Keras</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">6.7.</span> <span class="nav-text">可视化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PyEcharts"><span class="nav-number">6.7.1.</span> <span class="nav-text">PyEcharts</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Matplotlib"><span class="nav-number">6.7.2.</span> <span class="nav-text">Matplotlib</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%98%E5%9B%BE"><span class="nav-number">6.7.2.1.</span> <span class="nav-text">基本绘图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0"><span class="nav-number">6.7.2.2.</span> <span class="nav-text">三角函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A7%AF%E5%88%86"><span class="nav-number">6.7.2.3.</span> <span class="nav-text">积分</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Seaborn"><span class="nav-number">6.7.3.</span> <span class="nav-text">Seaborn</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bokeh"><span class="nav-number">6.7.4.</span> <span class="nav-text">Bokeh</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Plotly"><span class="nav-number">6.7.5.</span> <span class="nav-text">Plotly</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%B0%E5%9B%BE"><span class="nav-number">6.8.</span> <span class="nav-text">地图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GeoplotLib"><span class="nav-number">6.8.1.</span> <span class="nav-text">GeoplotLib</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MapBox"><span class="nav-number">6.8.2.</span> <span class="nav-text">MapBox</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="nav-number">6.9.</span> <span class="nav-text">图像处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PIL"><span class="nav-number">6.9.1.</span> <span class="nav-text">PIL</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%88%AC%E8%99%AB"><span class="nav-number">6.10.</span> <span class="nav-text">爬虫</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#lxml"><span class="nav-number">6.10.1.</span> <span class="nav-text">lxml</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%91%E5%AD%A6%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7"><span class="nav-number">7.</span> <span class="nav-text">科学分析工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IPython-Notebook"><span class="nav-number">7.1.</span> <span class="nav-text">IPython Notebook</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-number">7.1.1.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Windows"><span class="nav-number">7.1.1.1.</span> <span class="nav-text">Windows</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MacOS"><span class="nav-number">7.1.1.2.</span> <span class="nav-text">MacOS</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">7.1.2.</span> <span class="nav-text">配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="nav-number">7.1.3.</span> <span class="nav-text">格式转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="nav-number">7.1.4.</span> <span class="nav-text">实用技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B5%8C%E5%85%A5-Markdown"><span class="nav-number">7.1.4.1.</span> <span class="nav-text">嵌入 Markdown</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3"><span class="nav-number">7.1.4.2.</span> <span class="nav-text">帮助文档</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-iPython-Notebook-%E6%94%AF%E6%8C%81Python-3"><span class="nav-number">7.1.4.3.</span> <span class="nav-text">配置 iPython Notebook 支持Python 3</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python-%E5%B7%A5%E7%A8%8B%E5%B7%A5%E5%85%B7"><span class="nav-number">8.</span> <span class="nav-text">Python 工程工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Tox"><span class="nav-number">8.1.</span> <span class="nav-text">Tox</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VirtualEnv-1"><span class="nav-number">8.2.</span> <span class="nav-text">VirtualEnv</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7"><span class="nav-number">9.</span> <span class="nav-text">实战技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE-Proxy"><span class="nav-number">9.1.</span> <span class="nav-text">设置 Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remote-Debug"><span class="nav-number">9.2.</span> <span class="nav-text">Remote Debug</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PyCharm"><span class="nav-number">9.2.1.</span> <span class="nav-text">PyCharm</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Windows-%E5%BC%80%E5%8F%91%E6%9C%BA"><span class="nav-number">9.2.1.1.</span> <span class="nav-text">Windows 开发机</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B-Linux-%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-number">9.2.1.2.</span> <span class="nav-text">远程 Linux 运行环境</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#PyCharm-%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="nav-number">9.2.1.3.</span> <span class="nav-text">PyCharm 相关配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%8C%E6%88%90"><span class="nav-number">9.2.1.4.</span> <span class="nav-text">完成</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Visual-Studio-Code"><span class="nav-number">9.2.2.</span> <span class="nav-text">Visual Studio Code</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91"><span class="nav-number">9.2.3.</span> <span class="nav-text">踩过的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Gunicorn-%E9%A2%84%E5%BC%80%E5%90%AF%E4%BA%86%E5%A4%9A%E4%B8%AA-Work-%E5%AD%90%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%97%A0%E6%B3%95-Remote-Debug"><span class="nav-number">9.2.3.1.</span> <span class="nav-text">Gunicorn 预开启了多个 Work 子进程，无法 Remote Debug</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0"><span class="nav-number">9.2.3.1.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3"><span class="nav-number">9.2.3.1.2.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Trying-to-add-breakpoint-to-file-that-does-not-exist"><span class="nav-number">9.2.3.2.</span> <span class="nav-text">Trying to add breakpoint to file that does not exist</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0-1"><span class="nav-number">9.2.3.2.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-1"><span class="nav-number">9.2.3.2.2.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Couldn%E2%80%99t-obtain-remote-socket"><span class="nav-number">9.2.3.3.</span> <span class="nav-text">Couldn’t obtain remote socket</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0-2"><span class="nav-number">9.2.3.3.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-2"><span class="nav-number">9.2.3.3.2.</span> <span class="nav-text">解决</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vagrant"><span class="nav-number">9.3.</span> <span class="nav-text">Vagrant</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD"><span class="nav-number">9.3.1.</span> <span class="nav-text">下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">9.3.2.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91-1"><span class="nav-number">9.3.3.</span> <span class="nav-text">踩过的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Provider-%E2%80%98virtualbox%E2%80%99-not-found"><span class="nav-number">9.3.3.1.</span> <span class="nav-text">Provider ‘virtualbox’ not found</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0-3"><span class="nav-number">9.3.3.1.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-3"><span class="nav-number">9.3.3.1.2.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Timed-out-while-waiting-for-the-machine-to-boot"><span class="nav-number">9.3.3.2.</span> <span class="nav-text">Timed out while waiting for the machine to boot</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0-4"><span class="nav-number">9.3.3.2.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-4"><span class="nav-number">9.3.3.2.2.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#default-stdin-is-not-a-tty"><span class="nav-number">9.3.3.3.</span> <span class="nav-text">default: stdin: is not a tty</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%8F%8F%E8%BF%B0-5"><span class="nav-number">9.3.3.3.1.</span> <span class="nav-text">描述</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-5"><span class="nav-number">9.3.3.3.2.</span> <span class="nav-text">解决</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unittest"><span class="nav-number">9.4.</span> <span class="nav-text">Unittest</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#t-%E6%94%B9%E5%8F%98-%E9%A1%B6%E7%BA%A7-package-%E8%B7%AF%E5%BE%84"><span class="nav-number">9.4.1.</span> <span class="nav-text">-t 改变 顶级 package 路径</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90"><span class="nav-number">9.5.</span> <span class="nav-text">参数解析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91-2"><span class="nav-number">10.</span> <span class="nav-text">踩过的坑</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UnicodeDecodeError-%E2%80%98gbk%E2%80%99-codec-can%E2%80%99t-decode-byte-0x87-in-position-illegal-multibyte-sequence"><span class="nav-number">10.1.</span> <span class="nav-text">UnicodeDecodeError: ‘gbk’ codec can’t decode byte 0x87 in position illegal multibyte sequence</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-6"><span class="nav-number">10.1.1.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#connection-broken-by-SSLError"><span class="nav-number">10.2.</span> <span class="nav-text">connection broken by SSLError</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-7"><span class="nav-number">10.2.1.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ModuleNotFoundError-No-module-named-%E2%80%98yaml%E2%80%99"><span class="nav-number">10.3.</span> <span class="nav-text">ModuleNotFoundError: No module named ‘yaml’</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-8"><span class="nav-number">10.3.1.</span> <span class="nav-text">解决</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ERROR-Gateway-Timeout"><span class="nav-number">10.4.</span> <span class="nav-text">ERROR: Gateway Timeout</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-9"><span class="nav-number">10.4.1.</span> <span class="nav-text">解决</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%84%E6%96%99"><span class="nav-number">11.</span> <span class="nav-text">资料</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Book"><span class="nav-number">11.1.</span> <span class="nav-text">Book</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Resource"><span class="nav-number">11.2.</span> <span class="nav-text">Resource</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AC%A2%E8%BF%8E%E5%8A%A0%E5%85%A5%E6%88%91%E4%BB%AC%E7%9A%84%E6%8A%80%E6%9C%AF%E7%BE%A4%EF%BC%8C%E4%B8%80%E8%B5%B7%E4%BA%A4%E6%B5%81%E5%AD%A6%E4%B9%A0"><span class="nav-number">12.</span> <span class="nav-text">欢迎加入我们的技术群，一起交流学习</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Benedict Jin" src="/yuzhouwan_logo_128x128.ico">
  <p class="site-author-name" itemprop="name">Benedict Jin</p>
  <div class="site-description" itemprop="description">Benedict Jin's Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">55</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">163</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/asdf2014" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;asdf2014" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:asdf2014@apache.org" title="E-Mail → mailto:asdf2014@apache.org" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="/images/cc-by-nc-nd.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="external nofollow noopener noreferrer" target="_blank">苏 ICP 备 17032505号 </a>
  </div>

<div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuzhouwan.com</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.4m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">21:22</span>
</div>

        
<meta name="referrer" content="always">
<div class="busuanzi-count">
  <script async src="/lib/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.5/lib/darkmode-js.min.js"></script>
<script>
var options = {
  bottom: '32px', // default: '32px'
  right: '32px', // default: '32px'
  left: 'unset', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: true, // default: true,
  label: '🌓', // default: ''
  autoMatchOsTheme: false // default: true
}
const darkmode = new Darkmode(options);
darkmode.showWidget();
</script>
<style>
button.darkmode-toggle {
  z-index: 9999;
}
img, .darkmode-ignore {
  isolation: isolate;
  display: block;
}
</style>

  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  

<script>
  var disqus_config = function() {
    this.page.url = "https://yuzhouwan.com/posts/43687/";
    this.page.identifier = "posts/43687/";
    this.page.title = "Python：从入门到实践";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://yuzhouwan.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'e5da61069b94deb8ef3a',
      clientSecret: 'c60ad4e430be258b705027a036eeee3d71cb934b',
      repo        : 'gitment',
      owner       : 'asdf2014',
      admin       : ['asdf2014'],
      id          : '77909a28cb452463470d9f81b204ae9f',
        language: '',
      distractionFreeMode: false
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'BU4bnWsdAliFfk3fz7iMcFUU-gzGzoHsz',
      appKey     : '1xVLNFSy1qGCda3wt4GiGzHG',
      placeholder: "上述信息都不是必填的，可以直接提交评论",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
