<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/yuzhouwan_logo_with_copyright.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/yuzhouwan_logo_32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/yuzhouwan_logo_16x16.ico">
  <link rel="mask-icon" href="/yuzhouwan_logo_with_copyright.jpg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yuzhouwan.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":5,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":{"valine":{"text":"Valineï¼šåŒ¿å","order":-1},"disqus":{"text":"Disqusï¼šæµ·å¤–","order":-2},"gitalk":{"text":"Gitalkï¼šå¯ç”¨ Github è´¦å·ç™»å½•","order":-3}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Benedict Jin&#39;s Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="å®‡å®™æ¹¾">
<meta property="og:url" content="https://yuzhouwan.com/page/3/">
<meta property="og:site_name" content="å®‡å®™æ¹¾">
<meta property="og:description" content="Benedict Jin&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Benedict Jin">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://yuzhouwan.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>å®‡å®™æ¹¾ - åšç§¯è–„å‘</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97020848-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-97020848-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.null { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .null > span { position: relative; z-index: 10; }  .null img, .null .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .null img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .null-fallback { color: inherit; } .null-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="å®‡å®™æ¹¾" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">å®‡å®™æ¹¾</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">åšç§¯è–„å‘</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">147</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">15</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">54</span></a>

  </li>
        <li class="menu-item menu-item-å‹é“¾">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>å‹é“¾</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/190101/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å®‡å®™æ¹¾">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/190101/" class="post-title-link" itemprop="url">ç¨‹åºå‘˜çš„ Mac é«˜æ•ˆæ‰‹å†Œ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-01 19:58:02" itemprop="dateCreated datePublished" datetime="2019-01-01T19:58:02+08:00">2019-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-03 22:47:51" itemprop="dateModified" datetime="2020-11-03T22:47:51+08:00">2020-11-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
                </span>
            </span>

          
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>13 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å¦‚ä½•å°† Mac è¿™ä¸ªç”Ÿäº§å·¥å…·çš„æ•ˆèƒ½å‘æŒ¥åˆ°æè‡´å‘¢ï¼ˆå¦‚ä½•çœå‡ºä¸€ä¸ªå°é•¿å‡ï¼‰ï¼Ÿæœ¬æ–‡å°†ä» Mac çš„åŸºç¡€ç¯å¢ƒé…ç½®ã€Javaã€Mavenã€é«˜çº§å‘½ä»¤ã€å·¥å…·ã€å¿«æ·é”®å’Œé¢„å…ˆæ•´ç†ç›¸å…³èµ„æºç­‰æ–¹é¢ï¼Œæ¥é˜è¿°å¦‚ä½•æå‡å·¥ä½œæ•ˆç‡çš„ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/190101/">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/201001/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å®‡å®™æ¹¾">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/201001/" class="post-title-link" itemprop="url">Serverless è¯¦è§£</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-01 18:52:02" itemprop="dateCreated datePublished" datetime="2020-10-01T18:52:02+08:00">2020-10-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-29 21:48:33" itemprop="dateModified" datetime="2020-10-29T21:48:33+08:00">2020-10-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Serverless/" itemprop="url" rel="index"><span itemprop="name">Serverless</span></a>
                </span>
            </span>

          
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>4.7k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>4 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Serverless-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Serverless-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Serverless æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Serverless æ˜¯ä»€ä¹ˆï¼Ÿ</h2><blockquote>
<p>Serverless computing is a cloud computing execution model in which the cloud provider runs the server, and dynamically manages the allocation of machine resources. Pricing is based on the actual amount of resources consumed by an application, rather than on pre-purchased units of capacity. It can be a form of utility computing. â€” <a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Serverless_computing">wikipedia.org</a></p>
<p>Serverless architectures are application designs that incorporate third-party â€œBackend as a Serviceâ€ (BaaS) services, and/or that include custom code run in managed, ephemeral containers on a â€œFunctions as a Serviceâ€ (FaaS) platform. â€” <a target="_blank" rel="external nofollow noopener noreferrer" href="https://martinfowler.com/articles/serverless.html">ã€ŠServerless Architecturesã€‹</a></p>
<p>æ— æœåŠ¡å™¨æ¶æ„æ˜¯åŸºäºäº’è”ç½‘çš„ç³»ç»Ÿï¼Œå…¶ä¸­åº”ç”¨å¼€å‘ä¸ä½¿ç”¨å¸¸è§„çš„æœåŠ¡è¿›ç¨‹ã€‚ç›¸åï¼Œå®ƒä»¬ä»…ä¾èµ–äºç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆä¾‹å¦‚ AWS Lambda æœåŠ¡ï¼‰ï¼Œå®¢æˆ·ç«¯é€»è¾‘å’ŒæœåŠ¡æ‰˜ç®¡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„ç»„åˆã€‚  â€” <a target="_blank" rel="external nofollow noopener noreferrer" href="https://aws.amazon.com/cn/blogs/china/iaas-faas-serverless/">äºšé©¬é€Š AWS å®˜æ–¹åšå®¢</a></p>
<p>Serverlessï¼ˆæ— æœåŠ¡å™¨æ¶æ„ï¼‰æ˜¯æŒ‡æœåŠ¡ç«¯é€»è¾‘ç”±å¼€å‘è€…å®ç°ï¼Œè¿è¡Œåœ¨æ— çŠ¶æ€çš„è®¡ç®—å®¹å™¨ä¸­ï¼Œç”±äº‹ä»¶è§¦å‘ï¼Œå®Œå…¨è¢«ç¬¬ä¸‰æ–¹ç®¡ç†ï¼Œå…¶ä¸šåŠ¡å±‚é¢çš„çŠ¶æ€åˆ™å­˜å‚¨åœ¨æ•°æ®åº“æˆ–å…¶ä»–ä»‹è´¨ä¸­ã€‚  â€” <a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.bookstack.cn/read/serverless-handbook/concepts-what-is-serverless.md">ã€Šæ— æœåŠ¡æ¶æ„å®è·µæ‰‹å†Œã€‹</a></p>
<p>If your PaaS can efficiently start instances in 20ms that run for half a second, then call it serverless.  â€” Adrian Cockroft</p>
</blockquote>
<h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><h4 id="ä½æˆæœ¬"><a href="#ä½æˆæœ¬" class="headerlink" title="ä½æˆæœ¬"></a>ä½æˆæœ¬</h4><h5 id="è¿ç»´æˆæœ¬"><a href="#è¿ç»´æˆæœ¬" class="headerlink" title="è¿ç»´æˆæœ¬"></a>è¿ç»´æˆæœ¬</h5><p>ã€€æœåŠ¡å™¨ã€ä¸­é—´ä»¶ã€æ•°æ®åº“ç­‰å‡æ‰˜ç®¡äº BaaS/FaaS å¹³å°ï¼Œç”¨æˆ·æ— éœ€å†å‚ä¸åŸºç¡€è®¾æ–½åŠè½¯ä»¶çš„ç»´æŠ¤ï¼Œçœå»äº†é›†ç¾¤çš„è¿ç»´æˆæœ¬</p>
<h5 id="å¼€å‘æˆæœ¬"><a href="#å¼€å‘æˆæœ¬" class="headerlink" title="å¼€å‘æˆæœ¬"></a>å¼€å‘æˆæœ¬</h5><p>ã€€å¯¹æ¯” IaaS æˆ–è€… PaaS å¹³å°çš„æœåŠ¡å™¨æˆ–è€…æ“ä½œç³»ç»Ÿï¼ŒServerless çš„æ¶æ„ä¸­ï¼Œç”¨æˆ·æ“ä½œçš„æ˜¯æœåŠ¡åŒ–çš„ç»„ä»¶ï¼Œæ¯”å¦‚å­˜å‚¨æœåŠ¡ã€æˆæƒæœåŠ¡ç­‰ï¼Œå¯ä»¥ç¼©çŸ­å¼€å‘å‘¨æœŸï¼ŒèŠ‚çº¦æ—¶é—´æˆæœ¬</p>
<h4 id="æŒ‰éœ€è®¡è´¹"><a href="#æŒ‰éœ€è®¡è´¹" class="headerlink" title="æŒ‰éœ€è®¡è´¹"></a>æŒ‰éœ€è®¡è´¹</h4><p>ã€€Serverless/FaaS åŒºåˆ«äº IaaS/PaaS é¢„å…ˆåˆ†é…è®¡ç®—èµ„æºçš„è®¡è´¹æ–¹å¼ï¼Œå…¶è®¡è´¹æ–¹å¼é€šå¸¸æ˜¯æŒ‰è¯·æ±‚æ¬¡æ•°åŠè¿è¡Œæ—¶é—´ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä¸ä»…å¯ä»¥æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨èµ„æºï¼Œè¿˜èƒ½å®ç°çœŸæ­£çš„æŒ‰éœ€è®¡è´¹ï¼Œä»¥é™ä½ç”¨æˆ·çš„ä½¿ç”¨æˆæœ¬</p>
<p><img src="/picture/serverless/serverless_cost.png" alt="Serverless cost"></p>
<center>ï¼ˆä½¿ç”¨ <a href="https://www.apple.com/cn/ipad/" target="_blank" rel="external nofollow noopener noreferrer">iPad</a>â„¢ æ‰‹ç»˜è€Œæˆï¼‰</center>

<h4 id="é«˜æ‰©å±•"><a href="#é«˜æ‰©å±•" class="headerlink" title="é«˜æ‰©å±•"></a>é«˜æ‰©å±•</h4><p>ã€€è‡ªåŠ¨è¿›è¡Œæ¨ªå‘æ‰©å±•ï¼ˆæ¯«ç§’çº§éƒ¨ç½²ï¼Œç§’çº§ç”Ÿå‘½å‘¨æœŸï¼‰</p>
<h4 id="é«˜èµ„æºåˆ©ç”¨ç‡"><a href="#é«˜èµ„æºåˆ©ç”¨ç‡" class="headerlink" title="é«˜èµ„æºåˆ©ç”¨ç‡"></a>é«˜èµ„æºåˆ©ç”¨ç‡</h4><p>ã€€æä¾›ç»†ç²’åº¦çš„è®¡ç®—èƒ½åŠ›ï¼Œæœ€å¤§é™åº¦æ»¡è¶³å®æ—¶éœ€æ±‚ï¼Œä½¿å¾—èµ„æºåˆ©ç”¨ç‡å¤§å¹…åº¦æå‡</p>
<h4 id="NoOps"><a href="#NoOps" class="headerlink" title="NoOps"></a>NoOps</h4><p>ã€€è¿ç»´çš„å‘å±•ç»å†äº†ï¼Œäººè‚‰è¿ç»´ã€è‡ªåŠ¨åŒ–è¿ç»´ã€DevOpsã€AiOps ç­‰ã€‚è€Œ Serverless æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·åªéœ€è¦å…³å¿ƒä¸šåŠ¡ç¼–ç ï¼ŒçœŸæ­£å®ç°äº†é›¶è¿ç»´æˆæœ¬</p>
<div class="note info">ä»æ›´å¹¿æ³›çš„æ„ä¹‰ä¸Šæ¥è®²ï¼ŒOps é™¤äº†æŒ‡æœåŠ¡å™¨ç»´æŠ¤ï¼Œè¿˜ä¼šåŒ…æ‹¬éƒ¨ç½²ã€ç½‘ç»œã€å®‰å…¨ã€ç›‘æ§ã€æ•…éšœæ¢å¤å’Œæ°´å¹³æ‰©å±•ç­‰</div>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/201001/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/27328/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å®‡å®™æ¹¾">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/27328/" class="post-title-link" itemprop="url">å¦‚ä½•è¿ç”¨ JVM çŸ¥è¯†æé«˜ç¼–ç¨‹æ°´å¹³</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-07-16 17:38:16" itemprop="dateCreated datePublished" datetime="2016-07-16T17:38:16+08:00">2016-07-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-29 21:44:24" itemprop="dateModified" datetime="2020-10-29T21:44:24+08:00">2020-10-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">è¯­è¨€</span></a>
                </span>
            </span>

          
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>14k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>13 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä»€ä¹ˆæ˜¯-JVM"><a href="#ä»€ä¹ˆæ˜¯-JVM" class="headerlink" title="ä»€ä¹ˆæ˜¯ JVM?"></a>ä»€ä¹ˆæ˜¯ JVM?</h2><p>ã€€A <strong>J</strong>ava <strong>V</strong>irtual <strong>M</strong>achineï¼ˆJVMï¼‰is an abstract computing machine that enables a computer to run a Java program.</p>
<h2 id="ä¸ºä»€ä¹ˆè¦æœ‰-JVM"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰-JVM" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰ JVM?"></a>ä¸ºä»€ä¹ˆè¦æœ‰ JVM?</h2><h3 id="è·¨å¹³å°æ€§"><a href="#è·¨å¹³å°æ€§" class="headerlink" title="è·¨å¹³å°æ€§"></a>è·¨å¹³å°æ€§</h3><p>ã€€JVM çš„å­˜åœ¨ï¼Œä½¿å¾— Java ç¨‹åº èƒ½å¤Ÿè½»æ˜“åœ°åœ¨å¤šå¹³å°ä¸Šç§»æ¤ï¼ŒåŸºæœ¬ä¸Šè„±ç¦»äº†å¯¹ç¡¬ä»¶çš„ä¾èµ–æ€§ï¼ˆè¿™ä¹Ÿæ»¡è¶³äº† <a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/David_Parnas">David Parnas</a> çš„ â€œ<a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Information_hiding">ä¿¡æ¯éšè—</a>â€ å‡†åˆ™ï¼‰</p>
<h3 id="å¤šè¯­è¨€æ€§"><a href="#å¤šè¯­è¨€æ€§" class="headerlink" title="å¤šè¯­è¨€æ€§"></a>å¤šè¯­è¨€æ€§</h3><p>ã€€å› ä¸ºåº•å±‚ JIT ç¼–è¯‘ä¼˜åŒ–ã€é«˜æ•ˆ GCã€JUC å¯¹å¤šçº¿ç¨‹å¹¶å‘ç¼–ç¨‹çš„æ”¯æŒï¼Œä»¥åŠç¤¾åŒºä¸­æµ·é‡æˆç†Ÿçš„åº“ ç­‰ä¼˜ç‚¹ï¼Œä½¿å¾—<a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/List_of_JVM_languages">å¾ˆå¤šè¯­è¨€</a>éƒ½å¼€å‘å‡ºå¯è¿è¡Œåœ¨ JVM ä¸Šçš„ç‰ˆæœ¬</p>
<p>ã€€åŒæ—¶ï¼Œå¤šè¯­è¨€æ··åˆç¼–ç¨‹æˆä¸ºä¸€ç§è¶‹åŠ¿ï¼Œåœ¨éœ€è¦å¿«é€Ÿå¼€å‘ã€çµæ´»éƒ¨ç½² å’Œ é’ˆå¯¹ç‰¹å®šé—®é¢˜çš„ DSL ç­‰åœºæ™¯ä¸‹ï¼Œé€‰æ‹©æ°å½“çš„ JVM-hosted languageï¼Œå¯ä»¥æœ€å¤§åŒ–åŸæœ‰ä»£ç çš„ä»·å€¼</p>
<p>ã€€<strong>é‚£ä¹ˆï¼Œåœ¨æ—¥å¸¸çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç©¶ç«Ÿåº”è¯¥å¦‚ä½•è¿ç”¨ JVM çš„çŸ¥è¯†ï¼Œæ¥é€æ­¥æé«˜å®é™…ç¼–ç¨‹æ°´å¹³å‘¢ï¼Ÿ ä¸Šä¸‹è€Œæ±‚ç´¢åï¼Œæ‰¾åˆ°äº†ä»¥ä¸‹å‡ ä¸ªå±‚é¢ä½œä¸ºå‡ºå‘ç‚¹</strong></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/27328/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/54206/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å®‡å®™æ¹¾">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/54206/" class="post-title-link" itemprop="url">å¤§æ•°æ®ç”Ÿæ€åœˆé‡Œçš„ä¸€è‡´æ€§ç®—æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2016-10-11 11:48:41" itemprop="dateCreated datePublished" datetime="2016-10-11T11:48:41+08:00">2016-10-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-29 21:44:24" itemprop="dateModified" datetime="2020-10-29T21:44:24+08:00">2020-10-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/" itemprop="url" rel="index"><span itemprop="name">å¤§æ•°æ®</span></a>
                </span>
            </span>

          
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å¤§æ•°æ®ç”Ÿæ€åœˆä¸­ï¼Œä¿è¯ä¸€è‡´æ€§çš„æ–¹å¼ä¸¾ä¸èƒœä¸¾"><a href="#å¤§æ•°æ®ç”Ÿæ€åœˆä¸­ï¼Œä¿è¯ä¸€è‡´æ€§çš„æ–¹å¼ä¸¾ä¸èƒœä¸¾" class="headerlink" title="å¤§æ•°æ®ç”Ÿæ€åœˆä¸­ï¼Œä¿è¯ä¸€è‡´æ€§çš„æ–¹å¼ä¸¾ä¸èƒœä¸¾"></a>å¤§æ•°æ®ç”Ÿæ€åœˆä¸­ï¼Œä¿è¯ä¸€è‡´æ€§çš„æ–¹å¼ä¸¾ä¸èƒœä¸¾</h2><ul>
<li><a href="https://yuzhouwan.com/posts/60504/">Hadoop</a> ç”¨ <a href="https://yuzhouwan.com/posts/31915/">ZooKeeper</a>ï¼ˆZabï¼Œå³æ”¯æŒäº‹åŠ¡é¡ºåºçš„ Paxosï¼‰</li>
<li><a href="https://yuzhouwan.com/posts/22654/">ElasticSearch</a> ç”¨ <a href="https://yuzhouwan.com/posts/31130/">Hash</a> è·¯ç”±ç®—æ³•ï¼ˆè€Œéä¸€è‡´æ€§ Hashï¼‰</li>
<li><a href="https://yuzhouwan.com/posts/20644/#ElasticSearch-Connector">Cassandra</a> ç”¨ Gossip é—²è¯ç®—æ³•</li>
<li><a href="https://yuzhouwan.com/posts/2129/">Redis</a> ç”¨ <a href="https://yuzhouwan.com/posts/31915/#Raft">Raft</a> é€‰ä¸¾ç®—æ³•</li>
</ul>
<p>ä»–ä»¬å„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä»€ä¹ˆä¼šå¦‚æ­¤é€‰å‹ï¼Ÿ</p>
<h3 id="Paxos-é€‰ä¸¾ç®—æ³•"><a href="#Paxos-é€‰ä¸¾ç®—æ³•" class="headerlink" title="Paxos é€‰ä¸¾ç®—æ³•"></a>Paxos é€‰ä¸¾ç®—æ³•</h3><p>ã€€<strong>Paxos</strong> æ˜¯æœ€å…ˆè§£å†³<strong>æ‹œå åº­å°†å†›é—®é¢˜</strong>çš„ç®—æ³•ï¼Œåˆ©ç”¨<strong>è¿‡åŠé€‰ä¸¾</strong>çš„æœºåˆ¶ï¼Œä¿è¯äº†é›†ç¾¤æ•°æ®å‰¯æœ¬çš„ä¸€è‡´æ€§ï¼ˆå¾®æœåŠ¡ä¸­<a href="https://yuzhouwan.com/posts/31915/#å…¶ä»–æŠ€æœ¯æ¯”å¯¹">æœåŠ¡æ³¨å†Œä¸å‘ç°</a>çš„åœºæ™¯ï¼Œå…¶å®å·²ç»ä¸å†é€‚ç”¨äº†ï¼‰</p>
<h3 id="Raft-é€‰ä¸¾ç®—æ³•"><a href="#Raft-é€‰ä¸¾ç®—æ³•" class="headerlink" title="Raft é€‰ä¸¾ç®—æ³•"></a>Raft é€‰ä¸¾ç®—æ³•</h3><p>ã€€Redis ä½¿ç”¨ <strong>Raft</strong> å®ç°äº†è‡ªå·±çš„åˆ†å¸ƒå¼ä¸€è‡´æ€§ã€‚Raft æœ¬èº«å’Œ Paxos å¹¶æ²¡æœ‰åœºæ™¯ä¸Šçš„åŒºåˆ«ã€‚æ›´å¤šçš„æ˜¯ï¼Œåè®®ä¸Šçš„ç®€åŒ–ã€Term æ¦‚å¿µçš„å¼ºåŒ–ã€Log åªä¼šä» Leader åˆ° Follower å•å‘åŒæ­¥ï¼Œä½¿å¾—å®ç°èµ·æ¥ä¼šå¾ˆæ–¹ä¾¿</p>
<h3 id="Zab-åŸå­å¹¿æ’­åè®®"><a href="#Zab-åŸå­å¹¿æ’­åè®®" class="headerlink" title="Zab åŸå­å¹¿æ’­åè®®"></a>Zab åŸå­å¹¿æ’­åè®®</h3><p>ã€€Hadoop åå‘äºç¦»çº¿çš„æµ·é‡æ•°æ®å¤„ç†ï¼Œåˆ©ç”¨ <a href="https://yuzhouwan.com/posts/31915/">ZooKeeper</a> æ¥ä¿è¯<a href="https://yuzhouwan.com/posts/31915/#Paxos-çš„å¼ºä¸€è‡´æ€§">æ•°æ®å‰¯æœ¬çš„ä¸€è‡´æ€§</a>ï¼Œæ˜¯æœ€ä¸ºåˆé€‚çš„</p>
<h3 id="Hash-è·¯ç”±ç®—æ³•"><a href="#Hash-è·¯ç”±ç®—æ³•" class="headerlink" title="Hash è·¯ç”±ç®—æ³•"></a>Hash è·¯ç”±ç®—æ³•</h3><p>ã€€<a href="https://yuzhouwan.com/posts/22654/">ElasticSearch</a> é›†ç¾¤æ¥æ”¶åˆ°ä¸ºæ–‡æ¡£åˆ›å»ºç´¢å¼•çš„è¯·æ±‚æ—¶ï¼Œéœ€è¦é€‰æ‹©åœ¨å“ªä¸€ä¸ª shardï¼ˆå®Œæ•´ä¸”ç‹¬ç«‹çš„ Lucene ç´¢å¼•å®ä¾‹ï¼‰ä¸Šå¯¹æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€‚ElasticSearch é‡‡ç”¨çš„æ˜¯ <a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.cse.yorku.ca/~oz/hash.html">djb2</a> å“ˆå¸Œç®—æ³•ï¼ˆä¿—ç§° <a target="_blank" rel="external nofollow noopener noreferrer" href="https://azrael.digipen.edu/~mmead/www/Courses/CS280/HashFunctions-1.html">times33</a>ï¼‰ï¼Œå¯¹è¦ç´¢å¼•æ–‡æ¡£é»˜è®¤æˆ–æŒ‡å®šçš„ key è¿›è¡Œå“ˆå¸Œ <code>hash(key)</code>ï¼Œç„¶åå†å¯¹ ElasticSearch é›†ç¾¤ä¸­ shard çš„æ•°é‡ n è¿›è¡Œå–æ¨¡ï¼Œå³ $hash(key) \, mod \, n$</p>
<h3 id="ä¸€è‡´æ€§-Hash"><a href="#ä¸€è‡´æ€§-Hash" class="headerlink" title="ä¸€è‡´æ€§ Hash"></a>ä¸€è‡´æ€§ Hash</h3><p>ã€€ç”¨äºå¯¹æ•°æ®å­˜å‚¨è¿›è¡Œ<strong>è´Ÿè½½å‡è¡¡</strong>çš„ç®—æ³•ã€‚æœ€æ–°çš„è¿›å±•ï¼Œæ˜¯åœ¨å»å¹´ Google å‘è¡¨çš„ä¸€ç¯‡ <a target="_blank" rel="external nofollow noopener noreferrer" href="https://arxiv.org/abs/1608.01350">æœ‰ç•Œè´Ÿè½½çš„ä¸€è‡´æ€§ Hash ç®—æ³•</a>çš„è®ºæ–‡ã€‚è¯¥ç®—æ³•ä¿è¯äº†è´Ÿè½½å‡è¡¡<strong>ä¸€è‡´æ€§</strong>å’Œ<strong>ç¨³å®šæ€§</strong>çš„åŒæ—¶ï¼Œåœ¨<strong>å‡åŒ€æ€§</strong>æ–¹é¢åšå‡ºäº†å®è´¨æ€§åœ°æ”¹è¿›ã€‚åŒæ—¶ï¼ŒConsistent Hashing with Bounded Loads ç®—æ³• ä¹Ÿåœ¨ <a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.haproxy.org/">HaProxy</a> å¼€æºé¡¹ç›®ä¸­å¾—ä»¥<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/haproxy/haproxy/blob/master/src/lb_chash.c#L244">åº”ç”¨</a>ï¼Œæœ‰æ•ˆå‡å°‘äº†å…¶ 8 å€çš„ç¼“å­˜å¸¦å®½</p>
<h3 id="Gossip-é—²è¯ç®—æ³•"><a href="#Gossip-é—²è¯ç®—æ³•" class="headerlink" title="Gossip é—²è¯ç®—æ³•"></a>Gossip é—²è¯ç®—æ³•</h3><p>ã€€<strong>Gossip</strong> ä¸»è¦è¢« Cassandra ç”¨äºå®ç°å…¶åˆ†å¸ƒå¼ä¸€è‡´æ€§ã€‚å› ä¸º Cassandra æ¡†æ¶ï¼Œæ›´çœ‹é‡ <strong>å»ä¸­å¿ƒåŒ–</strong> å’Œ <strong>å®¹é”™</strong> çš„ç‰¹æ€§ï¼Œåœ¨ä¸è¿èƒŒ CAP å®šç†çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ¥å— æœ€ç»ˆä¸€è‡´æ€§</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/54206/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuzhouwan.com/posts/31915/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/yuzhouwan_logo_128x128.ico">
      <meta itemprop="name" content="Benedict Jin">
      <meta itemprop="description" content="Benedict Jin's Blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å®‡å®™æ¹¾">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/31915/" class="post-title-link" itemprop="url">ZooKeeper åŸç†ä¸ä¼˜åŒ–</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-04-22 08:38:04" itemprop="dateCreated datePublished" datetime="2017-04-22T08:38:04+08:00">2017-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-29 21:44:24" itemprop="dateModified" datetime="2020-10-29T21:44:24+08:00">2020-10-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/" itemprop="url" rel="index"><span itemprop="name">å¤§æ•°æ®</span></a>
                </span>
            </span>

          
  
  <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>82k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1:15</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ZooKeeper-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ZooKeeper-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ZooKeeper æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ZooKeeper æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ã€€<strong>ZooKeeper</strong> æ˜¯ä¸€ä¸ªåŸºäº <a target="_blank" rel="external nofollow noopener noreferrer" href="https://static.googleusercontent.com/media/research.google.com/zh-CN//archive/chubby-osdi06.pdf">Google Chubby</a> è®ºæ–‡å®ç°çš„ä¸€æ¬¾è§£å†³åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§é—®é¢˜çš„å¼€æºå®ç°ï¼Œæ–¹ä¾¿äº†ä¾èµ– ZooKeeper çš„åº”ç”¨å®ç° <code>æ•°æ®å‘å¸ƒ / è®¢é˜…</code>ã€<code>è´Ÿè½½å‡è¡¡</code>ã€<code>æœåŠ¡æ³¨å†Œä¸å‘ç°</code>ã€<code>åˆ†å¸ƒå¼åè°ƒ</code>ã€<code>äº‹ä»¶é€šçŸ¥</code>ã€<code>é›†ç¾¤ç®¡ç†</code>ã€<code>Leader é€‰ä¸¾</code>ã€ <code>åˆ†å¸ƒå¼é”å’Œé˜Ÿåˆ—</code> ç­‰åŠŸèƒ½</p>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="é›†ç¾¤è§’è‰²"><a href="#é›†ç¾¤è§’è‰²" class="headerlink" title="é›†ç¾¤è§’è‰²"></a>é›†ç¾¤è§’è‰²</h3><p>ã€€ä¸€èˆ¬çš„ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ„æˆé›†ç¾¤çš„æ¯ä¸€å°æœºå™¨éƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œæœ€ä¸ºå…¸å‹çš„é›†ç¾¤æ¨¡å¼å°±æ˜¯ <code>Master / Slave</code> ä¸»å¤‡æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬æŠŠèƒ½å¤Ÿå¤„ç†æ‰€æœ‰<code>å†™æ“ä½œ</code>çš„æœºå™¨ç§°ä¸º <code>Master</code> èŠ‚ç‚¹ï¼Œå¹¶æŠŠæ‰€æœ‰é€šè¿‡<code>å¼‚æ­¥å¤åˆ¶</code>æ–¹å¼è·å–æœ€æ–°æ•°æ®ã€æä¾›<code>è¯»æœåŠ¡</code>çš„æœºå™¨ç§°ä¸º <code>Slave</code> èŠ‚ç‚¹</p>
<p><img src="/picture/zk/zk_master_slave.png" alt></p>
<center>ï¼ˆåˆ©ç”¨ <a href="https://www.axure.com.cn/" target="_blank" rel="external nofollow noopener noreferrer">Axure</a>â„¢ ç»˜åˆ¶è€Œæˆï¼‰</center>

<p>ã€€è€Œ ZooKeeper ä¸­ï¼Œåˆ™æ˜¯å¼•å…¥äº† <code>é¢†å¯¼è€…ï¼ˆLeaderï¼‰</code>ã€<code>è·Ÿéšè€…ï¼ˆFollowerï¼‰</code>ã€<code>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</code> ä¸‰ç§è§’è‰² å’Œ <code>é¢†å¯¼ï¼ˆLeadingï¼‰</code>ã€<code>è·Ÿéšï¼ˆFollowingï¼‰</code>ã€<code>è§‚å¯Ÿï¼ˆObservingï¼‰</code>ã€<code>å¯»æ‰¾ï¼ˆLookingï¼‰</code> ç­‰ç›¸åº”çš„<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/apache/zookeeper/blob/master/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java#L370">çŠ¶æ€</a>ã€‚åœ¨ ZooKeeper é›†ç¾¤ä¸­çš„é€šè¿‡ä¸€ç§ <code>Leader é€‰ä¸¾</code>çš„è¿‡ç¨‹ï¼Œæ¥é€‰å®šæŸä¸ªèŠ‚ç‚¹ä½œä¸º <code>Leader</code> èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸ºå®¢æˆ·ç«¯æä¾›<code>è¯»</code>å’Œ<code>å†™</code>æœåŠ¡ã€‚è€Œ <code>Follower</code> å’Œ <code>Observer</code> èŠ‚ç‚¹ï¼Œåˆ™éƒ½èƒ½æä¾›<code>è¯»</code>æœåŠ¡ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œ<code>Observer</code> æœºå™¨<code>ä¸å‚ä¸ Leader é€‰ä¸¾</code>è¿‡ç¨‹ å’Œ <code>å†™æ“ä½œ</code>çš„<code>"è¿‡åŠå†™æˆåŠŸ"</code>ç­–ç•¥ï¼Œ<code>Observer</code> åªä¼šè¢«å‘ŠçŸ¥å·²ç» commit çš„ proposalã€‚å› æ­¤ <code>Observer</code> å¯ä»¥åœ¨<code>ä¸å½±å“å†™æ€§èƒ½</code>çš„æƒ…å†µä¸‹æå‡é›†ç¾¤çš„<code>è¯»æ€§èƒ½</code>ï¼ˆè¯¦è§ä¸‹æ–‡ â€œæ€§èƒ½ä¼˜åŒ– - ä¼˜åŒ–ç­–ç•¥ - Observer æ¨¡å¼â€ éƒ¨åˆ†ï¼‰</p>
<p><img src="/picture/zk/zk_leader_follower_observer.png" alt></p>
<center>ï¼ˆåˆ©ç”¨ <a href="https://www.axure.com.cn/" target="_blank" rel="external nofollow noopener noreferrer">Axure</a>â„¢ ç»˜åˆ¶è€Œæˆï¼‰</center>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/31915/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Benedict Jin" src="/yuzhouwan_logo_128x128.ico">
  <p class="site-author-name" itemprop="name">Benedict Jin</p>
  <div class="site-description" itemprop="description">Benedict Jin's Blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">54</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">147</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/asdf2014" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;asdf2014" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:asdf2014@apache.org" title="E-Mail â†’ mailto:asdf2014@apache.org" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="/images/cc-by-nc-nd.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="external nofollow noopener noreferrer" target="_blank">è‹ ICP å¤‡ 17032505å· </a>
  </div>

<div class="copyright">
  
  &copy; 2014 â€“ 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuzhouwan.com</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">1.3m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">20:04</span>
</div>

        
<meta name="referrer" content="always">
<div class="busuanzi-count">
  <script async src="/lib/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.5/lib/darkmode-js.min.js"></script>
<script>
var options = {
  bottom: '32px', // default: '32px'
  right: '32px', // default: '32px'
  left: 'unset', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: true, // default: true,
  label: 'ğŸŒ“', // default: ''
  autoMatchOsTheme: false // default: true
}
const darkmode = new Darkmode(options);
darkmode.showWidget();
</script>
<style>
button.darkmode-toggle {
  z-index: 9999;
}
img, .darkmode-ignore {
  isolation: isolate;
  display: block;
}
</style>

  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  




<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'BU4bnWsdAliFfk3fz7iMcFUU-gzGzoHsz',
      appKey     : '1xVLNFSy1qGCda3wt4GiGzHG',
      placeholder: "ä¸Šè¿°ä¿¡æ¯éƒ½ä¸æ˜¯å¿…å¡«çš„ï¼Œå¯ä»¥ç›´æ¥æäº¤è¯„è®º",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
